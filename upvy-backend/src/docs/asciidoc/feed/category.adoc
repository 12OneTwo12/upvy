[[feed-category]]
=== 카테고리별 피드 조회

특정 카테고리의 콘텐츠를 추천 알고리즘 기반으로 조회합니다.

메인 피드와 동일한 추천 알고리즘을 사용하되, 해당 카테고리로 필터링합니다. 비로그인 사용자도 조회 가능합니다.

==== Request

include::{snippets}/feed-category/http-request.adoc[]
include::{snippets}/feed-category/path-parameters.adoc[]
include::{snippets}/feed-category/query-parameters.adoc[]

==== Response

include::{snippets}/feed-category/http-response.adoc[]
include::{snippets}/feed-category/response-fields.adoc[]

==== Example

[source,bash]
----
# 프로그래밍 카테고리 - 첫 페이지 조회
curl -X GET "http://localhost:8080/api/v1/feed/categories/PROGRAMMING?limit=20"

# 프로그래밍 카테고리 - 인증된 사용자로 조회
curl -X GET "http://localhost:8080/api/v1/feed/categories/PROGRAMMING?limit=20" \
  -H "Authorization: Bearer {access_token}"

# 다음 페이지 조회 (cursor 사용)
curl -X GET "http://localhost:8080/api/v1/feed/categories/PROGRAMMING?cursor=20&limit=20"
----

==== TikTok/Instagram Reels 방식의 추천 피드

* Redis에 250개 배치를 미리 생성하여 캐싱 (TTL: 30분)
* 50% 소진 시 다음 배치를 백그라운드에서 prefetch
* 일관된 피드 경험 제공 (세션 기반)
* 무한 스크롤 지원

==== 추천 전략 (메인 피드와 동일한 비율)

[cols="1,3"]
|===
| 전략 | 설명

| **팔로잉 콘텐츠 (40%)**
| 팔로우한 크리에이터의 해당 카테고리 콘텐츠 +
최신순으로 정렬되며, 개인화된 피드 제공

| **인기 콘텐츠 (30%)**
| 해당 카테고리의 인기 콘텐츠 +
인터랙션 가중치 기반 인기도 점수로 정렬 +
`popularity_score = view_count * 1.0 + like_count * 5.0 + comment_count * 3.0 + save_count * 7.0 + share_count * 10.0`

| **신규 콘텐츠 (10%)**
| 해당 카테고리의 최신 콘텐츠 +
최근 업로드된 콘텐츠 우선 노출

| **랜덤 콘텐츠 (20%)**
| 해당 카테고리의 랜덤 콘텐츠 +
다양성 확보를 위한 무작위 추천
|===

==== Notes

* 커서 기반 페이지네이션을 사용하여 무한 스크롤을 지원합니다
* 비로그인 사용자도 조회 가능하며, 이 경우 좋아요/저장 상태는 모두 false로 반환됩니다
* 인증된 사용자의 경우, 각 콘텐츠에 대한 좋아요/저장 상태가 함께 반환됩니다
* 카테고리는 대소문자를 구분하며, 유효한 카테고리 enum 값이어야 합니다 (예: PROGRAMMING, DESIGN, HEALTH 등)
* Redis 캐싱이 적용되어 빠른 응답 속도를 보장합니다 (TTL: 30분)
