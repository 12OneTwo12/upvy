# Upvy AI Content Generator - ê¸°íšì„œ

> AI ê¸°ë°˜ ìì²´ êµìœ¡ìš© ìˆí¼ ì»¨í…ì¸  ìë™ ìƒì„± íŒŒì´í”„ë¼ì¸

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ë°°ê²½ ë° ëª©ì 

**ê¸°ì¡´ ì‹œìŠ¤í…œ (upvy-ai-crawler)**:
- YouTube CC ë¼ì´ì„ ìŠ¤ ì˜ìƒ í¬ë¡¤ë§ â†’ í•˜ì´ë¼ì´íŠ¸ ì¶”ì¶œ â†’ ìˆí¼ í¸ì§‘
- ì™¸ë¶€ ì»¨í…ì¸  ì˜ì¡´ì„±, ì €ì‘ê¶Œ ë¦¬ìŠ¤í¬, ì»¨í…ì¸  ì¼ê´€ì„± ë¶€ì¡±

**ì‹ ê·œ ì‹œìŠ¤í…œ (upvy-content-generator)**:
- AIë¡œ 100% ì˜¤ë¦¬ì§€ë„ êµìœ¡ ì»¨í…ì¸  ìƒì„±
- ìŠ¤í¬ë¦½íŠ¸ â†’ ë¹„ì£¼ì–¼ â†’ ë‚˜ë ˆì´ì…˜ â†’ ìˆí¼ ì™„ì „ ìë™í™”
- n8n ê¸°ë°˜ ì›Œí¬í”Œë¡œìš°ë¡œ í™•ì¥ì„± í™•ë³´

### 1.2 í•µì‹¬ ëª©í‘œ

1. **ì˜¤ë¦¬ì§€ë„ ì»¨í…ì¸ **: ì €ì‘ê¶Œ ì´ìŠˆ ì—†ëŠ” ìì²´ êµìœ¡ ì»¨í…ì¸ 
2. **ì¼ê´€ëœ í’ˆì§ˆ**: AI ê¸°ë°˜ í‘œì¤€í™”ëœ ì œì‘ íŒŒì´í”„ë¼ì¸
3. **í™•ì¥ì„±**: n8n ì›Œí¬í”Œë¡œìš°ë¡œ ì¹´í…Œê³ ë¦¬ë³„ ëŒ€ëŸ‰ ìƒì‚°
4. **ë‹¤êµ­ì–´ ì§€ì›**: í•œêµ­ì–´, ì˜ì–´, ì¼ë³¸ì–´ ì»¨í…ì¸  ìƒì„±

### 1.3 ì¼ì¼ ìƒì„± ëª©í‘œ

| ì–¸ì–´ | ì¼ì¼ | ì›”ê°„ | ë¹„ê³  |
|------|------|------|------|
| ì˜ì–´ (EN) | 5ê°œ | 150ê°œ | ê¸€ë¡œë²Œ ì‹œì¥ íƒ€ê²Ÿ (ìµœìš°ì„ ) |
| ì¼ë³¸ì–´ (JA) | 3ê°œ | 90ê°œ | ì¼ë³¸ ì‹œì¥ |
| í•œêµ­ì–´ (KO) | 3ê°œ | 90ê°œ | êµ­ë‚´ ì‹œì¥ |
| **í•©ê³„** | **11ê°œ** | **330ê°œ** | |

---

## 2. ê¸°ì¡´ íŒŒì´í”„ë¼ì¸ ë¶„ì„

### 2.1 upvy-ai-crawler íŒŒì´í”„ë¼ì¸ (5ë‹¨ê³„)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CRAWL â†’ TRANSCRIBE â†’ ANALYZE â†’ EDIT â†’ REVIEW               â”‚
â”‚   â†“         â†“           â†“        â†“       â†“                  â”‚
â”‚ YouTube   STT        LLM      FFmpeg   í’ˆì§ˆê²€í†               â”‚
â”‚ ë‹¤ìš´ë¡œë“œ   ìŒì„±â†’í…ìŠ¤íŠ¸  ë¶„ì„/í¸ì§‘ê³„íš  ì˜ìƒí¸ì§‘   ìŠ¹ì¸í            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ì¡´ íŒŒì´í”„ë¼ì¸ íŠ¹ì§•**:
- Spring Batch ê¸°ë°˜ (5ê°œ Step)
- Chunk ë‹¨ìœ„ ì²˜ë¦¬ (5ê°œì”©)
- Retry/Skip ì „ëµ (3íšŒ ì¬ì‹œë„)
- Google Vertex AI (Gemini) + STT
- FFmpeg ì˜ìƒ í¸ì§‘
- Backoffice UIë¡œ ê´€ë¦¬ì ìŠ¹ì¸

**ì¬í™œìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸**:
| ì»´í¬ë„ŒíŠ¸ | ì¬í™œìš© ê°€ëŠ¥ | ë¹„ê³  |
|---------|------------|------|
| LLM Client (Vertex AI) | âœ… | ìŠ¤í¬ë¦½íŠ¸ ìƒì„±ì— ì‚¬ìš© |
| FFmpeg Wrapper | âœ… | ì˜ìƒ í•©ì„±ì— ì‚¬ìš© |
| S3 Service | âœ… | íŒŒì¼ ì €ì¥ |
| Quality Scoring | âœ… | í’ˆì§ˆ í‰ê°€ |
| Backoffice UI | âœ… | ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° |
| YouTube API | âŒ | ë¶ˆí•„ìš” |
| yt-dlp | âŒ | ë¶ˆí•„ìš” |
| STT Client | â–³ | TTSë¡œ ëŒ€ì²´ |

### 2.2 ë°±ì—”ë“œ í†µí•© ìš”êµ¬ì‚¬í•­

```
contents í…Œì´ë¸” êµ¬ì¡°:
â”œâ”€â”€ id (UUID)
â”œâ”€â”€ creator_id â†’ AI ì „ìš© ê³„ì • í•„ìš”
â”œâ”€â”€ content_type: VIDEO
â”œâ”€â”€ url: S3 URL
â”œâ”€â”€ thumbnail_url: S3 URL
â”œâ”€â”€ duration: ì´ˆ ë‹¨ìœ„
â””â”€â”€ width/height: 1080x1920 (9:16)

content_metadata:
â”œâ”€â”€ title: 200ì ì´ë‚´
â”œâ”€â”€ description: 2000ì ì´ë‚´
â”œâ”€â”€ category: 17ê°œ ì¹´í…Œê³ ë¦¬
â”œâ”€â”€ tags: 3-5ê°œ
â”œâ”€â”€ language: ko/en/ja
â””â”€â”€ difficulty_level: BEGINNER/INTERMEDIATE/ADVANCED
```

---

## 3. ì‹ ê·œ íŒŒì´í”„ë¼ì¸ ì„¤ê³„

### 3.1 íŒŒì´í”„ë¼ì¸ ê°œìš” (5ë‹¨ê³„)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       AI CONTENT GENERATOR PIPELINE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ 1. TOPIC    â”‚ â†’ â”‚ 2. SCRIPT + QUIZ    â”‚ â†’ â”‚ 3. VISUAL + â”‚ â†’ â”‚ 4. COMPOSE  â”‚   â”‚
â”‚  â”‚ SELECT      â”‚   â”‚ + QUALITY GATE      â”‚   â”‚    AUDIO    â”‚   â”‚             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â†“                     â†“                      â†“                  â†“          â”‚
â”‚   Gemini +            ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ìƒì„±      Imagen 3/Veo      FFmpeg í•©ì„±      â”‚
â”‚   Google Search       + LLM í’ˆì§ˆê²€í†            + TTS ë³‘ë ¬                         â”‚
â”‚   Grounding           âœ…PASS â†’ ì§„í–‰                                               â”‚
â”‚                       âŒFAIL â†’ ì¬ìƒì„±/ìŠ¤í‚µ                                         â”‚
â”‚                                                                                    â”‚
â”‚                                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                                                            â†’ â”‚ 5. PUBLISH  â”‚      â”‚
â”‚                                                              â”‚ (ë©€í‹°í”Œë«í¼) â”‚      â”‚
â”‚                                                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                     â†“             â”‚
â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                                  â”‚ Upvy (ì»¨í…ì¸ +í€´ì¦ˆ) â”‚ YouTube â”‚ Instagram â”‚      â”‚
â”‚                                  â”‚       API         â”‚ Shorts  â”‚ Reels     â”‚      â”‚
â”‚                                  â”‚                   â”‚         â”‚ + TikTok  â”‚      â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í•µì‹¬ ë³€ê²½ì **:
1. **ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ë™ì‹œ ìƒì„±** - ìŠ¤í¬ë¦½íŠ¸ ë‚´ìš© ê¸°ë°˜ìœ¼ë¡œ ë” ì •í™•í•œ í€´ì¦ˆ ìƒì„±
2. **í’ˆì§ˆ ê²Œì´íŠ¸ë¥¼ ìŠ¤í¬ë¦½íŠ¸ ë‹¨ê³„ì— í†µí•©** - ìŠ¤í¬ë¦½íŠ¸ í†µê³¼ ì‹œì—ë§Œ ë¹„ë””ì˜¤ ìƒì„±
3. **REVIEW â†’ PUBLISHë¡œ ë³€ê²½** - ë³„ë„ ê²€í†  ì—†ì´ ë°”ë¡œ ë©€í‹°í”Œë«í¼ ê²Œì‹œ
4. **Vertex AI í†µí•©** - Gemini(LLM) + Imagen(ì´ë¯¸ì§€) + Veo(ì˜ìƒ) ë‹¨ì¼ í‚¤ë¡œ ê´€ë¦¬

### 3.2 ê° ë‹¨ê³„ ìƒì„¸ ì„¤ê³„

#### Step 1: TOPIC SELECT (ì£¼ì œ ì„ ì •) - Gemini + Google Search Grounding

**ëª©ì **: ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰ ê¸°ë°˜ìœ¼ë¡œ íŠ¸ë Œë“œì— ë§ëŠ” êµìœ¡ ì£¼ì œ ìë™ ì„ ì •

**í•µì‹¬ ê¸°ìˆ **: **Gemini 2.5 Flash + Google Search Grounding**
- ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰ìœ¼ë¡œ ìµœì‹  íŠ¸ë Œë“œ ë°˜ì˜
- íŒ©íŠ¸ ê¸°ë°˜ ì‘ë‹µìœ¼ë¡œ hallucination ìµœì†Œí™”
- ì¶œì²˜ citation í¬í•¨

**ì…ë ¥**:
```json
{
  "category": "PROGRAMMING",
  "targetLanguage": "ko",
  "difficulty": "BEGINNER",
  "contentStyle": "fact_explanation",
  "excludeTopics": ["ì´ì „ì— ìƒì„±í•œ ì£¼ì œë“¤"]
}
```

**ì²˜ë¦¬** (Gemini + Grounding):
```python
from google import genai
from google.genai.types import GenerateContentConfig, GoogleSearch, Tool

client = genai.Client()

# Google Search Groundingìœ¼ë¡œ íŠ¸ë Œë“œ ê¸°ë°˜ ì£¼ì œ ìƒì„±
response = client.models.generate_content(
    model="gemini-2.5-flash",
    contents=f"""
    ë‹¹ì‹ ì€ êµìœ¡ ì»¨í…ì¸  ê¸°íšìì…ë‹ˆë‹¤.

    [ê²€ìƒ‰ ê¸°ë°˜ ë¶„ì„ ìš”ì²­]
    1. "{category}" ë¶„ì•¼ì—ì„œ ìµœê·¼ ì¸ê¸° ìˆëŠ” êµìœ¡ ì£¼ì œ ê²€ìƒ‰
    2. ìˆí¼ ì˜ìƒìœ¼ë¡œ ë§Œë“¤ê¸° ì¢‹ì€ ì£¼ì œ 5ê°œ ì œì•ˆ
    3. ê° ì£¼ì œì˜ ê²€ìƒ‰ëŸ‰/ê´€ì‹¬ë„ ê·¼ê±° ì œì‹œ

    ì œì™¸í•  ì£¼ì œ: {excludeTopics}
    ë‚œì´ë„: {difficulty}
    ì–¸ì–´: {targetLanguage}
    """,
    config=GenerateContentConfig(
        tools=[Tool(google_search=GoogleSearch())],  # ì›¹ ê²€ìƒ‰ í™œì„±í™”
    ),
)

# groundingMetadataì—ì„œ ì¶œì²˜ ì •ë³´ ì¶”ì¶œ
sources = response.candidates[0].grounding_metadata.web_search_queries
```

**Grounding ì¥ì **:
| ê¸°ì¡´ ë°©ì‹ | Grounding ë°©ì‹ |
|----------|---------------|
| ê³ ì •ëœ ì£¼ì œ í…œí”Œë¦¿ | ì‹¤ì‹œê°„ íŠ¸ë Œë“œ ë°˜ì˜ |
| LLM ì§€ì‹ í•œê³„ (cutoff) | ìµœì‹  ì •ë³´ ì ‘ê·¼ |
| íŒ©íŠ¸ ê²€ì¦ ì–´ë ¤ì›€ | ì¶œì²˜ ê¸°ë°˜ ì‹ ë¢°ì„± |

**ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°**:
```
Gemini + Google Search Grounding
    â†“
íŠ¸ë Œë“œ í‚¤ì›Œë“œ ë¶„ì„ (ì‹¤ì‹œê°„ ê²€ìƒ‰)
    â†“
ì¹´í…Œê³ ë¦¬ë³„ ì¸ê¸° ì£¼ì œ ì¶”ì¶œ
    â†“
ê¸°ì¡´ ì»¨í…ì¸ ì™€ ìœ ì‚¬ë„ ê²€ì‚¬ (Embedding)
    â†“
êµìœ¡ì  ê°€ì¹˜ + ë°”ì´ëŸ´ ê°€ëŠ¥ì„± ì ìˆ˜í™”
```

**ì¶œë ¥**:
```json
{
  "topicId": "uuid",
  "title": "ë³€ìˆ˜ë€ ë¬´ì—‡ì¸ê°€? 30ì´ˆë§Œì— ì´í•´í•˜ê¸°",
  "category": "PROGRAMMING",
  "keywords": ["ë³€ìˆ˜", "í”„ë¡œê·¸ë˜ë°ê¸°ì´ˆ", "ì½”ë”©"],
  "targetAudience": "ì½”ë”© ì…ë¬¸ì",
  "learningObjective": "ë³€ìˆ˜ì˜ ê°œë…ê³¼ ì‚¬ìš©ë²• ì´í•´",
  "estimatedDuration": 45,
  "viralScore": 78,
  "educationalScore": 85
}
```

**ì»¨í…ì¸  ìŠ¤íƒ€ì¼ ì˜µì…˜**:
| ìŠ¤íƒ€ì¼ | ì„¤ëª… | ì í•©í•œ ì¹´í…Œê³ ë¦¬ |
|--------|------|----------------|
| `fact_explanation` | íŒ©íŠ¸ ê¸°ë°˜ ì„¤ëª… | SCIENCE, HISTORY, MATHEMATICS |
| `how_to_guide` | ë‹¨ê³„ë³„ ê°€ì´ë“œ | PROGRAMMING, DESIGN, COOKING |
| `story_based` | ìŠ¤í† ë¦¬í…”ë§ | PSYCHOLOGY, MOTIVATION, HISTORY |
| `comparison` | ë¹„êµ ë¶„ì„ | MARKETING, FINANCE, STARTUP |
| `quiz_style` | í€´ì¦ˆ í˜•ì‹ | LANGUAGE, SCIENCE, MATHEMATICS |
| `myth_buster` | ì˜¤í•´ ë°”ë¡œì¡ê¸° | HEALTH, PSYCHOLOGY, SCIENCE |

---

#### Step 2: SCRIPT + QUIZ GENERATE (ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ìƒì„±) + í’ˆì§ˆ ê²Œì´íŠ¸

**ëª©ì **: ìˆí¼ ìŠ¤í¬ë¦½íŠ¸ + êµìœ¡ í€´ì¦ˆ ë™ì‹œ ìƒì„± + **í’ˆì§ˆ ê²€í†  í†µê³¼ ì‹œì—ë§Œ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰**

**í•µì‹¬**: ìŠ¤í¬ë¦½íŠ¸ì™€ í€´ì¦ˆë¥¼ í•œ ë²ˆì˜ LLM í˜¸ì¶œë¡œ ìƒì„±
- ìŠ¤í¬ë¦½íŠ¸ ë‚´ìš© ê¸°ë°˜ í€´ì¦ˆ â†’ description ê¸°ë°˜ë³´ë‹¤ ë” ì •í™•
- êµìœ¡ ë‚´ìš©ê³¼ í€´ì¦ˆì˜ ì¼ê´€ì„± ë³´ì¥
- LLM í˜¸ì¶œ íšŸìˆ˜ ì ˆê° (íš¨ìœ¨ì„± í–¥ìƒ)

**í’ˆì§ˆ ê²Œì´íŠ¸**:
- âœ… í†µê³¼ â†’ VISUAL/AUDIO ë‹¨ê³„ë¡œ ì§„í–‰
- âŒ ì‹¤íŒ¨ â†’ ì¬ìƒì„± ë˜ëŠ” ìŠ¤í‚µ

**ì…ë ¥**: Step 1ì˜ topicId + ìƒì„¸ ì •ë³´

**ì²˜ë¦¬ (LLM Prompt)**:
```
[ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸]
ë‹¹ì‹ ì€ êµìœ¡ìš© ìˆí¼ ì»¨í…ì¸  ì „ë¬¸ ì‘ê°€ì…ë‹ˆë‹¤.
30ì´ˆ~90ì´ˆ ë¶„ëŸ‰ì˜ ì„¸ë¡œí˜•(9:16) ì˜ìƒ ìŠ¤í¬ë¦½íŠ¸ì™€ êµìœ¡ìš© í€´ì¦ˆë¥¼ í•¨ê»˜ ì‘ì„±í•©ë‹ˆë‹¤.

=== ìŠ¤í¬ë¦½íŠ¸ ê·œì¹™ ===
1. Hook (0-5ì´ˆ): ì‹œì²­ìì˜ ê´€ì‹¬ì„ ë„ëŠ” ì§ˆë¬¸/ì¶©ê²©ì  ì‚¬ì‹¤
2. Core (5-70ì´ˆ): í•µì‹¬ ë‚´ìš© ì „ë‹¬ (3ê°œ ì´í•˜ í¬ì¸íŠ¸)
3. CTA (70-90ì´ˆ): í–‰ë™ ìœ ë„ + ë‹¤ìŒ ì˜ìƒ ì˜ˆê³ 

í˜•ì‹ ê·œì¹™:
- í•œ ë¬¸ì¥ì€ 15ë‹¨ì–´ ì´ë‚´
- ì „ë¬¸ìš©ì–´ëŠ” ì¦‰ì‹œ ì„¤ëª…
- 1ì¸ì¹­ ì‹œì  (ì¹œê·¼í•œ ë§íˆ¬)
- ìë§‰ìš© íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨

=== í€´ì¦ˆ ê·œì¹™ ===
1. ìŠ¤í¬ë¦½íŠ¸ì˜ í•µì‹¬ ê°œë…ì„ í™•ì¸í•˜ëŠ” ë¬¸ì œ 1ê°œ ìƒì„±
2. 4ê°œì˜ ì„ íƒì§€ (ì •ë‹µ 1ê°œ + ì˜¤ë‹µ 3ê°œ)
3. ë‚œì´ë„ì— ë§ëŠ” ì§ˆë¬¸ ìˆ˜ì¤€
4. ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì§ì ‘ ë‹¤ë£¬ ë‚´ìš©ë§Œ ì¶œì œ

[ì‚¬ìš©ì ì…ë ¥]
ì£¼ì œ: {topic.title}
ì¹´í…Œê³ ë¦¬: {topic.category}
ë‚œì´ë„: {topic.difficulty}
í•™ìŠµëª©í‘œ: {topic.learningObjective}
```

**ì¶œë ¥**:
```json
{
  "scriptId": "uuid",
  "topicId": "ref",
  "totalDuration": 45,
  "sections": [
    {
      "type": "HOOK",
      "startTime": 0,
      "endTime": 5,
      "narration": "ë³€ìˆ˜ê°€ ë­”ì§€ ëª¨ë¥´ë©´ ì½”ë”©ì€ ì‹œì‘ë„ ëª»í•©ë‹ˆë‹¤.",
      "visualCue": "ë¬¼ìŒí‘œ ì•„ì´ì½˜ â†’ ì½”ë“œ í™”ë©´ ì „í™˜",
      "textOverlay": "ë³€ìˆ˜ = ì½”ë”©ì˜ ì‹œì‘"
    },
    {
      "type": "CORE",
      "startTime": 5,
      "endTime": 35,
      "narration": "ë³€ìˆ˜ëŠ” ë°ì´í„°ë¥¼ ë‹´ëŠ” ìƒìì˜ˆìš”. ì´ë¦„í‘œë¥¼ ë¶™ì—¬ì„œ ë‚˜ì¤‘ì— êº¼ë‚´ ì“¸ ìˆ˜ ìˆì£ .",
      "visualCue": "ìƒì ì• ë‹ˆë©”ì´ì…˜ â†’ ì´ë¦„í‘œ ë¶™ì´ê¸° â†’ ìƒì ì—´ê¸°",
      "textOverlay": "ë³€ìˆ˜ = ì´ë¦„í‘œ ë¶™ì€ ìƒì",
      "codeExample": "age = 25\nprint(age)"
    },
    {
      "type": "CTA",
      "startTime": 35,
      "endTime": 45,
      "narration": "ë‹¤ìŒ ì˜ìƒì—ì„œ ë³€ìˆ˜ì˜ ì¢…ë¥˜ë¥¼ ì•Œì•„ë³¼ê²Œìš”. íŒ”ë¡œìš° í•´ë‘ì„¸ìš”!",
      "visualCue": "íŒ”ë¡œìš° ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜",
      "textOverlay": "ë‹¤ìŒ: ë³€ìˆ˜ì˜ ì¢…ë¥˜"
    }
  ],
  "fullNarration": "ë³€ìˆ˜ê°€ ë­”ì§€ ëª¨ë¥´ë©´ ì½”ë”©ì€ ì‹œì‘ë„ ëª»í•©ë‹ˆë‹¤...",
  "subtitles": [
    {"start": 0, "end": 5, "text": "ë³€ìˆ˜ê°€ ë­”ì§€ ëª¨ë¥´ë©´"},
    {"start": 5, "end": 8, "text": "ì½”ë”©ì€ ì‹œì‘ë„ ëª»í•©ë‹ˆë‹¤"}
  ],
  "metadata": {
    "title": "ë³€ìˆ˜ë€? 30ì´ˆ ì™„ë²½ì •ë¦¬ ğŸ”¥",
    "description": "ì½”ë”© ì…ë¬¸ìë¥¼ ìœ„í•œ ë³€ìˆ˜ ê°œë… ì„¤ëª…...",
    "tags": ["í”„ë¡œê·¸ë˜ë°", "ì½”ë”©ê¸°ì´ˆ", "ë³€ìˆ˜", "íŒŒì´ì¬"],
    "thumbnailPrompt": "í™”ë©´ ì¤‘ì•™ì— 'ë³€ìˆ˜?' í…ìŠ¤íŠ¸, ë°°ê²½ì€ ì½”ë“œ íŒ¨í„´"
  },
  "quiz": {
    "question": "ë³€ìˆ˜ë€ ë¬´ì—‡ì¸ê°€ìš”?",
    "allowMultipleAnswers": false,
    "options": [
      {"optionText": "ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì´ë¦„ ë¶™ì€ ê³µê°„", "isCorrect": true},
      {"optionText": "í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì–´", "isCorrect": false},
      {"optionText": "í™”ë©´ì— ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜", "isCorrect": false},
      {"optionText": "ì½”ë“œë¥¼ ë°˜ë³µí•˜ëŠ” êµ¬ë¬¸", "isCorrect": false}
    ]
  }
}
```

**í€´ì¦ˆê°€ ìŠ¤í¬ë¦½íŠ¸ì™€ í•¨ê»˜ ìƒì„±ë˜ëŠ” ì¥ì **:
| ê¸°ì¡´ (description ê¸°ë°˜) | ê°œì„  (script ê¸°ë°˜) |
|------------------------|-------------------|
| ìš”ì•½ëœ ì„¤ëª… ê¸°ë°˜ | ì‹¤ì œ ë‚˜ë ˆì´ì…˜ ë‚´ìš© ê¸°ë°˜ |
| í•µì‹¬ ê°œë… ëˆ„ë½ ê°€ëŠ¥ | ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë‹¤ë£¬ ë‚´ìš©ë§Œ ì¶œì œ |
| LLM 2íšŒ í˜¸ì¶œ (ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ) | LLM 1íšŒ í˜¸ì¶œë¡œ ë™ì‹œ ìƒì„± |
| í€´ì¦ˆ-ì½˜í…ì¸  ë¶ˆì¼ì¹˜ ê°€ëŠ¥ | ì™„ë²½í•œ ì¼ê´€ì„± ë³´ì¥ |

**í’ˆì§ˆ ê²Œì´íŠ¸ (Script Quality Gate)**:

ìŠ¤í¬ë¦½íŠ¸ ìƒì„± í›„ LLMì´ ìì²´ í’ˆì§ˆ ê²€í†  ìˆ˜í–‰:

```python
# ìŠ¤í¬ë¦½íŠ¸ í’ˆì§ˆ ê²€í†  í”„ë¡¬í”„íŠ¸
quality_check = client.models.generate_content(
    model="gemini-2.5-flash",
    contents=f"""
    ë‹¤ìŒ êµìœ¡ ìˆí¼ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê²€í† í•˜ê³  PASS/FAIL íŒì •í•´ì£¼ì„¸ìš”.

    [ê²€í†  ê¸°ì¤€]
    1. Hookì´ 5ì´ˆ ë‚´ì— ê´€ì‹¬ì„ ë„ëŠ”ê°€?
    2. í•µì‹¬ ë‚´ìš©ì´ ëª…í™•í•˜ê³  êµìœ¡ì  ê°€ì¹˜ê°€ ìˆëŠ”ê°€?
    3. ì „ë¬¸ìš©ì–´ê°€ ì ì ˆíˆ ì„¤ëª…ë˜ì—ˆëŠ”ê°€?
    4. ë¬¸ì¥ì´ ì§§ê³  ì´í•´í•˜ê¸° ì‰¬ìš´ê°€?
    5. CTAê°€ ëª…í™•í•œê°€?

    [ìŠ¤í¬ë¦½íŠ¸]
    {script_json}

    [ì¶œë ¥ í˜•ì‹]
    {{"verdict": "PASS" or "FAIL", "reason": "íŒì • ì´ìœ ", "suggestions": ["ê°œì„ ì‚¬í•­"]}}
    """
)
```

**í’ˆì§ˆ ê²Œì´íŠ¸ ì›Œí¬í”Œë¡œìš°**:
```
ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
    â†“
í’ˆì§ˆ ê²€í†  (LLM ìì²´ í‰ê°€)
    â†“
â”œâ”€â”€ PASS â†’ Step 3 (VISUAL) ì§„í–‰
â”œâ”€â”€ FAIL (ìˆ˜ì • ê°€ëŠ¥) â†’ ì¬ìƒì„± (ìµœëŒ€ 2íšŒ)
â””â”€â”€ FAIL (2íšŒ ì‹¤íŒ¨) â†’ ìŠ¤í‚µ, ë‹¤ìŒ ì£¼ì œë¡œ
```

---

#### Step 3: VISUAL GENERATE (ë¹„ì£¼ì–¼ ìƒì„±) - Vertex AI Imagen 3 + Veo 2/3

**ëª©ì **: ìŠ¤í¬ë¦½íŠ¸ ê¸°ë°˜ AI ì´ë¯¸ì§€/ì˜ìƒ ìƒì„± (Vertex AI í†µí•©)

**í•µì‹¬ ê¸°ìˆ **: **Imagen 3 (ì´ë¯¸ì§€) + Veo 2/3 (ì˜ìƒ)**

| ëª¨ë¸ | Model ID | ìš©ë„ | íŠ¹ì§• |
|------|----------|------|------|
| **Imagen 3** | `imagen-3.0-generate-002` | ê³ í’ˆì§ˆ ì´ë¯¸ì§€ | í…ìŠ¤íŠ¸ ë Œë”ë§ ìš°ìˆ˜, 9:16 ì§€ì› |
| **Imagen 3 Fast** | `imagen-3.0-fast-generate-001` | ì €ì§€ì—° ì´ë¯¸ì§€ | 40% ë¹ ë¦„, ë¯¸ë¦¬ë³´ê¸°ìš© |
| **Veo 2** | `veo-2.0-generate-exp` | AI ë¹„ë””ì˜¤ | 5-8ì´ˆ, image-to-video ì§€ì› |
| **Veo 3** | `veo-3.0-generate-preview` | ìµœì‹  ë¹„ë””ì˜¤ | ë” ë†’ì€ í’ˆì§ˆ, ì˜¤ë””ì˜¤ ë™ê¸°í™” |

**ë¹„ì£¼ì–¼ ìƒì„± ì „ëµ**:

| ì „ëµ | ì„¤ëª… | ì‚¬ìš© ê¸°ìˆ  | ì í•©í•œ ì¼€ì´ìŠ¤ |
|------|------|----------|-------------|
| **Image Slideshow** | Imagen 3 ì´ë¯¸ì§€ â†’ FFmpeg íŠ¸ëœì§€ì…˜ | Imagen 3 + FFmpeg | ì„¤ëª…í˜• ì»¨í…ì¸  |
| **Image-to-Video** | Imagen 3 ì´ë¯¸ì§€ â†’ Veo ì• ë‹ˆë©”ì´ì…˜ | Imagen 3 â†’ Veo 2 | ë™ì  ì„¤ëª… |
| **Text-to-Video** | í”„ë¡¬í”„íŠ¸ â†’ Veo ì§ì ‘ ìƒì„± | Veo 2/3 | ìŠ¤í† ë¦¬ ê¸°ë°˜ |
| **Screen Recording** | ì½”ë“œ/í™”ë©´ ë…¹í™” | Puppeteer + FFmpeg | í”„ë¡œê·¸ë˜ë° íŠœí† ë¦¬ì–¼ |
| **Hybrid** | Imagen + Veo ì¡°í•© | ë³µí•© | ëŒ€ë¶€ë¶„ì˜ ì»¨í…ì¸  |

**Imagen 3 API ì‚¬ìš©**:
```python
from vertexai.preview.vision_models import ImageGenerationModel

model = ImageGenerationModel.from_pretrained("imagen-3.0-generate-002")

# 9:16 ì„¸ë¡œí˜• ì´ë¯¸ì§€ ìƒì„±
images = model.generate_images(
    prompt="êµìœ¡ìš© ì¼ëŸ¬ìŠ¤íŠ¸: ë³€ìˆ˜ë¥¼ ë‹´ëŠ” ìƒì, ë¯¸ë‹ˆë©€ í”Œë« ë””ìì¸, íŒŒë€ìƒ‰ í†¤",
    number_of_images=1,
    aspect_ratio="9:16",           # ìˆí¼ ìµœì í™”
    safety_filter_level="block_medium_and_above",
    person_generation="dont_allow", # ì‚¬ëŒ ì œì™¸ (êµìœ¡ìš©)
    seed=12345,                    # ì¼ê´€ëœ ìŠ¤íƒ€ì¼
)
images[0].save("section_0.png")
```

**Veo 2 API ì‚¬ìš©** (Image-to-Video):
```python
import vertexai
from vertexai.generative_models import GenerativeModel

# ì´ë¯¸ì§€ ê¸°ë°˜ ì˜ìƒ ìƒì„±
model = GenerativeModel("veo-2.0-generate-exp")

response = model.generate_content(
    contents=[
        {
            "image": {"gcs_uri": "gs://bucket/imagen_output.png"},
            "text": "ìƒìê°€ ì—´ë¦¬ë©´ì„œ ìˆ«ì 25ê°€ ë‚˜íƒ€ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜"
        }
    ],
    generation_config={
        "video_length": "5s",       # 5ì´ˆ í´ë¦½
        "aspect_ratio": "9:16",     # ì„¸ë¡œí˜•
        "output_gcs_uri": "gs://bucket/veo_output/"
    }
)
```

**ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°**:
```
ìŠ¤í¬ë¦½íŠ¸ visualCue íŒŒì‹±
    â†“
ì„¹ì…˜ë³„ ë¹„ì£¼ì–¼ íƒ€ì… ê²°ì •
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OPTION A: Image Slideshow                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚ Imagen 3    â”‚ â†’  â”‚ FFmpeg      â”‚              â”‚
â”‚ â”‚ (ì´ë¯¸ì§€ ìƒì„±) â”‚    â”‚ (Ken Burns) â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OPTION B: Image-to-Video                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚ Imagen 3    â”‚ â†’  â”‚ Veo 2       â”‚              â”‚
â”‚ â”‚ (ì‹œì‘ í”„ë ˆì„) â”‚    â”‚ (ì• ë‹ˆë©”ì´ì…˜) â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OPTION C: Text-to-Video                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚ Veo 2/3 (í”„ë¡¬í”„íŠ¸ â†’ ì˜ìƒ ì§ì ‘ ìƒì„±) â”‚             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
ì„¹ì…˜ë³„ í´ë¦½ ìƒì„± (5-8ì´ˆì”©)
    â†“
FFmpegë¡œ í´ë¦½ ì—°ê²°
```

**Reference Image ê¸°ëŠ¥** (Veo 2):
- ìµœëŒ€ 3ê°œ ì°¸ì¡° ì´ë¯¸ì§€ë¡œ ìºë¦­í„°/ìŠ¤íƒ€ì¼ ì¼ê´€ì„± ìœ ì§€
- ë¸Œëœë“œ ë§ˆìŠ¤ì½”íŠ¸ ë“±ì¥ ì‹œ í™œìš©

**ë¹„ìš© ë¹„êµ** (Vertex AI vs ì™¸ë¶€):
| ì„œë¹„ìŠ¤ | ê°€ê²© | í’ˆì§ˆ | Vertex AI ì¥ì  |
|--------|------|------|---------------|
| Imagen 3 | ~$0.02/ì´ë¯¸ì§€ | ë†’ìŒ | í†µí•© ê²°ì œ, GCS ì—°ë™ |
| DALL-E 3 | $0.04/ì´ë¯¸ì§€ | ë†’ìŒ | - |
| Veo 2 | ~$0.025/ì´ˆ | ë†’ìŒ | í†µí•© ê²°ì œ, í•œêµ­ì–´ í”„ë¡¬í”„íŠ¸ |
| Runway Gen-3 | ~$0.05/ì´ˆ | ë†’ìŒ | - |

**ì¶œë ¥**:
```json
{
  "visualId": "uuid",
  "scriptId": "ref",
  "clips": [
    {
      "sectionIndex": 0,
      "type": "AI_IMAGE_VIDEO",
      "s3Key": "generated/clips/uuid/section_0.mp4",
      "duration": 5,
      "imagePrompt": "...",
      "generatedImageUrl": "..."
    }
  ],
  "thumbnail": {
    "s3Key": "generated/thumbnails/uuid.jpg",
    "prompt": "..."
  }
}
```

---

#### Step 4: AUDIO GENERATE (ë‚˜ë ˆì´ì…˜ ìƒì„±)

**ëª©ì **: ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìì—°ìŠ¤ëŸ¬ìš´ ìŒì„±ìœ¼ë¡œ ë³€í™˜

**TTS ì„œë¹„ìŠ¤ ì˜µì…˜**:

| ì„œë¹„ìŠ¤ | ì¥ì  | ë‹¨ì  | ê°€ê²© |
|--------|------|------|------|
| **ElevenLabs** | ìµœê³  í’ˆì§ˆ, ê°ì • í‘œí˜„ | ë¹„ìš© ë†’ìŒ | $0.30/1K chars |
| **OpenAI TTS** | ìì—°ìŠ¤ëŸ¬ì›€, API í†µí•© | í•œêµ­ì–´ ì œí•œì  | $0.015/1K chars |
| **Google TTS** | ë‹¤êµ­ì–´ ì§€ì›, ì €ë ´ | ê¸°ê³„ìŒ | $0.004/1K chars |
| **CLOVA Voice** | í•œêµ­ì–´ ìµœì í™” | API ë³µì¡ | ìš”ê¸ˆì œë³„ |

**ê¶Œì¥ êµ¬ì„±**:
- í•œêµ­ì–´: ElevenLabs (ê³ í’ˆì§ˆ) or CLOVA Voice (ë¹„ìš© íš¨ìœ¨)
- ì˜ì–´: ElevenLabs or OpenAI TTS
- ì¼ë³¸ì–´: Google TTS (WaveNet)

**ì²˜ë¦¬**:
```
ìŠ¤í¬ë¦½íŠ¸ narration ì¶”ì¶œ
    â†“
ì–¸ì–´ë³„ TTS ì„œë¹„ìŠ¤ ì„ íƒ
    â†“
ìŒì„± íŒŒë¼ë¯¸í„° ì„¤ì •
â”œâ”€â”€ voice_id: ë¸Œëœë“œ ìŒì„± (ë‚¨/ì—¬)
â”œâ”€â”€ speed: 1.1x (ìˆí¼ ìµœì )
â”œâ”€â”€ pitch: 0 (ê¸°ë³¸)
â””â”€â”€ emotion: engaging (ElevenLabs)
    â†“
TTS API í˜¸ì¶œ
    â†“
ìŒì„± íŒŒì¼ (MP3/WAV) ìƒì„±
    â†“
íƒ€ì„ìŠ¤íƒ¬í”„ ë™ê¸°í™” ê²€ì¦
```

**ì¶œë ¥**:
```json
{
  "audioId": "uuid",
  "scriptId": "ref",
  "s3Key": "generated/audio/uuid.mp3",
  "duration": 45.2,
  "ttsProvider": "elevenlabs",
  "voiceId": "upvy_male_ko",
  "segments": [
    {
      "sectionIndex": 0,
      "startTime": 0.0,
      "endTime": 4.8,
      "text": "ë³€ìˆ˜ê°€ ë­”ì§€ ëª¨ë¥´ë©´ ì½”ë”©ì€ ì‹œì‘ë„ ëª»í•©ë‹ˆë‹¤."
    }
  ]
}
```

---

#### Step 5: COMPOSE (ì˜ìƒ í•©ì„±)

**ëª©ì **: ë¹„ì£¼ì–¼ + ì˜¤ë””ì˜¤ + ìë§‰ â†’ ìµœì¢… ìˆí¼ ì˜ìƒ

**FFmpeg íŒŒì´í”„ë¼ì¸**:
```
ì…ë ¥:
â”œâ”€â”€ clips/ (ë¹„ì£¼ì–¼ í´ë¦½ë“¤)
â”œâ”€â”€ audio.mp3 (ë‚˜ë ˆì´ì…˜)
â”œâ”€â”€ subtitles.srt (ìë§‰)
â””â”€â”€ metadata.json (ì˜¤ë²„ë ˆì´ ì •ë³´)

ì²˜ë¦¬:
1. í´ë¦½ ì—°ê²° (concat demuxer)
2. ì˜¤ë””ì˜¤ íŠ¸ë™ í•©ì„± (amix)
3. ìë§‰ ì˜¤ë²„ë ˆì´ (ASS filter)
   - í°íŠ¸: Pretendard (í•œê¸€), Inter (ì˜ë¬¸)
   - ìœ„ì¹˜: í•˜ë‹¨ 20%
   - ìŠ¤íƒ€ì¼: í°ìƒ‰ + ê²€ì • ì™¸ê³½ì„ 
4. í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ (drawtext)
   - ì œëª©: ìƒë‹¨
   - í‚¤ì›Œë“œ: ì¤‘ì•™
5. ë¸Œëœë“œ ì›Œí„°ë§ˆí¬ (overlay)
6. ì¶œë ¥ ì¸ì½”ë”©
   - ì½”ë±: H.264 (libx264)
   - í•´ìƒë„: 1080x1920
   - FPS: 30
   - ë¹„íŠ¸ë ˆì´íŠ¸: 4Mbps

ì¶œë ¥:
â”œâ”€â”€ final_video.mp4
â”œâ”€â”€ thumbnail.jpg
â””â”€â”€ preview.gif (ë¯¸ë¦¬ë³´ê¸°)
```

**ì¶œë ¥**:
```json
{
  "composeId": "uuid",
  "videoS3Key": "generated/videos/uuid/final.mp4",
  "thumbnailS3Key": "generated/thumbnails/uuid.jpg",
  "previewGifS3Key": "generated/previews/uuid.gif",
  "duration": 45,
  "resolution": "1080x1920",
  "fileSize": 12500000,
  "qualityMetrics": {
    "videoQuality": 92,
    "audioQuality": 88,
    "subtitleSync": 95
  }
}
```

---

#### Step 5: PUBLISH (ë©€í‹°í”Œë«í¼ ìë™ ê²Œì‹œ)

**ê²Œì‹œ í”Œë«í¼**:

| í”Œë«í¼ | API/ë°©ë²• | í¬ë§· ìš”êµ¬ì‚¬í•­ | ë¹„ê³  |
|--------|----------|--------------|------|
| **Upvy** | Backend REST API | 1080x1920, MP4 | ë©”ì¸ í”Œë«í¼ |
| **YouTube Shorts** | YouTube Data API v3 | ìµœëŒ€ 60ì´ˆ, 9:16 | í™ë³´ìš© |
| **Instagram Reels** | Graph API / Meta Business | ìµœëŒ€ 90ì´ˆ, 9:16 | í™ë³´ìš© |
| **TikTok** | TikTok for Developers API | ìµœëŒ€ 10ë¶„, 9:16 | í™ë³´ìš© |

**ì²˜ë¦¬ ì›Œí¬í”Œë¡œìš°**:
```
ì˜ìƒ ìƒì„± ì™„ë£Œ (COMPOSE)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PARALLEL PUBLISH                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Upvy API    â”‚  â”‚ YouTube API â”‚  â”‚ Instagram   â”‚         â”‚
â”‚  â”‚ (ë©”ì¸)      â”‚  â”‚ (Shorts)    â”‚  â”‚ (Reels)     â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                â”‚                â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ TikTok API  â”‚  â”‚             â”‚  â”‚             â”‚         â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
ê²Œì‹œ ê²°ê³¼ ì €ì¥ (í”Œë«í¼ë³„ ID, URL)
    â†“
Slack ì•Œë¦¼ (ê²Œì‹œ ì™„ë£Œ)
```

**1. Upvy ê²Œì‹œ (Backend API)**:
```python
# Upvy Backend API í˜¸ì¶œ
async def publish_to_upvy(content: GeneratedContent):
    # 1. ì—…ë¡œë“œ URL ìš”ì²­
    upload_resp = await http_client.post(
        f"{UPVY_API}/api/v1/contents/upload-url",
        json={
            "contentType": "VIDEO",
            "fileName": f"{content.id}.mp4",
            "fileSize": content.file_size,
        },
        headers={"Authorization": f"Bearer {AI_CREATOR_TOKEN}"}
    )

    # 2. S3 ì—…ë¡œë“œ (presigned URL)
    await upload_to_s3(upload_resp["uploadUrl"], content.video_path)

    # 3. ì»¨í…ì¸  ë“±ë¡
    result = await http_client.post(
        f"{UPVY_API}/api/v1/contents",
        json={
            "contentId": upload_resp["contentId"],
            "title": content.title,
            "description": content.description,
            "category": content.category,
            "tags": content.tags,
            "language": content.language,
            "thumbnailUrl": content.thumbnail_url,
            "duration": content.duration,
            "width": 1080,
            "height": 1920,
        }
    )
    return result["id"]  # Upvy content ID
```

**2. YouTube Shorts ê²Œì‹œ**:
```python
# YouTube Data API v3
async def publish_to_youtube(content: GeneratedContent):
    youtube = build("youtube", "v3", credentials=credentials)

    request = youtube.videos().insert(
        part="snippet,status",
        body={
            "snippet": {
                "title": content.title,
                "description": f"{content.description}\n\n#Shorts #êµìœ¡ #{content.category}",
                "tags": content.tags + ["Shorts", "êµìœ¡", "í•™ìŠµ"],
                "categoryId": "27",  # Education
                "defaultLanguage": content.language,
            },
            "status": {
                "privacyStatus": "public",
                "selfDeclaredMadeForKids": False,
            }
        },
        media_body=MediaFileUpload(content.video_path)
    )
    response = request.execute()
    return response["id"]  # YouTube video ID
```

**3. Instagram Reels ê²Œì‹œ**:
```python
# Meta Graph API
async def publish_to_instagram(content: GeneratedContent):
    # 1. ë¯¸ë””ì–´ ì»¨í…Œì´ë„ˆ ìƒì„±
    container = await http_client.post(
        f"https://graph.facebook.com/v18.0/{IG_USER_ID}/media",
        params={
            "media_type": "REELS",
            "video_url": content.public_video_url,
            "caption": f"{content.title}\n\n{content.description}\n\n#{' #'.join(content.tags)}",
            "access_token": IG_ACCESS_TOKEN,
        }
    )

    # 2. ê²Œì‹œ
    result = await http_client.post(
        f"https://graph.facebook.com/v18.0/{IG_USER_ID}/media_publish",
        params={
            "creation_id": container["id"],
            "access_token": IG_ACCESS_TOKEN,
        }
    )
    return result["id"]  # Instagram media ID
```

**4. TikTok ê²Œì‹œ**:
```python
# TikTok Content Posting API
async def publish_to_tiktok(content: GeneratedContent):
    # 1. ì—…ë¡œë“œ ì´ˆê¸°í™”
    init_resp = await http_client.post(
        "https://open.tiktokapis.com/v2/post/publish/video/init/",
        headers={"Authorization": f"Bearer {TIKTOK_ACCESS_TOKEN}"},
        json={
            "post_info": {
                "title": content.title,
                "privacy_level": "PUBLIC_TO_EVERYONE",
                "disable_duet": False,
                "disable_comment": False,
                "disable_stitch": False,
            },
            "source_info": {
                "source": "FILE_UPLOAD",
                "video_size": content.file_size,
            }
        }
    )

    # 2. ë¹„ë””ì˜¤ ì—…ë¡œë“œ
    upload_url = init_resp["data"]["upload_url"]
    await upload_video_chunks(upload_url, content.video_path)

    return init_resp["data"]["publish_id"]
```

**ì¶œë ¥**:
```json
{
  "publishId": "uuid",
  "composeId": "ref",
  "platforms": {
    "upvy": {
      "contentId": "uuid",
      "url": "https://upvy.io/content/uuid",
      "status": "PUBLISHED"
    },
    "youtube": {
      "videoId": "abc123",
      "url": "https://youtube.com/shorts/abc123",
      "status": "PUBLISHED"
    },
    "instagram": {
      "mediaId": "12345",
      "url": "https://instagram.com/reel/xyz",
      "status": "PUBLISHED"
    },
    "tiktok": {
      "publishId": "67890",
      "url": "https://tiktok.com/@upvy/video/67890",
      "status": "PUBLISHED"
    }
  },
  "publishedAt": "2026-02-02T10:30:00Z"
}
```

**í”Œë«í¼ë³„ ì„¤ì • (n8nì—ì„œ í† ê¸€)**:
```yaml
publish_config:
  upvy:
    enabled: true
    creator_id: "ai-content-creator-uuid"
  youtube:
    enabled: true
    channel_id: "UC..."
    add_shorts_tag: true
  instagram:
    enabled: true
    account_id: "..."
  tiktok:
    enabled: true
    account_id: "..."
```

---

## 4. n8n ì›Œí¬í”Œë¡œìš° ì„¤ê³„

### 4.1 ì™œ n8nì¸ê°€?

**ê¸°ì¡´ Spring Batchì˜ í•œê³„**:
- ëª¨ë†€ë¦¬ì‹ êµ¬ì¡° (ë‹¨ì¼ ì‹¤íŒ¨ â†’ ì „ì²´ ì¤‘ë‹¨)
- ì™¸ë¶€ API í†µí•© ë³µì¡
- ë¹„ê°œë°œì ì›Œí¬í”Œë¡œìš° ìˆ˜ì • ë¶ˆê°€
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì œí•œì 

**n8nì˜ ì¥ì **:
- ë…¸ë“œ ê¸°ë°˜ ì‹œê°ì  ì›Œí¬í”Œë¡œìš°
- 400+ í†µí•© (OpenAI, Google, AWS, Slack ë“±)
- Webhook íŠ¸ë¦¬ê±°, ìŠ¤ì¼€ì¤„ë§
- ì‹¤íŒ¨ ì‹œ ê°œë³„ ë…¸ë“œë§Œ ì¬ì‹¤í–‰
- Self-hosted ê°€ëŠ¥ (ë¹„ìš© ì ˆê°)

### 4.2 n8n ì›Œí¬í”Œë¡œìš° êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         n8n MAIN WORKFLOW                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ TRIGGER      â”‚  â† Cron (ì–¸ì–´ë³„ ìŠ¤ì¼€ì¤„) or Webhook                       â”‚
â”‚  â”‚ (Schedule)   â”‚                                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â†“                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ CONFIG       â”‚  â† ì¹´í…Œê³ ë¦¬, ë‚œì´ë„, ì–¸ì–´ ì„¤ì • ë¡œë“œ                         â”‚
â”‚  â”‚ (HTTP GET)   â”‚     GET /api/config/content-generation                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â†“                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚ TOPIC SELECT                  â”‚  â† Gemini + Google Search Grounding   â”‚
â”‚  â”‚ (Vertex AI + Grounding)       â”‚     ì‹¤ì‹œê°„ íŠ¸ë Œë“œ ê¸°ë°˜ ì£¼ì œ ìƒì„±          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                 â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ SCRIPT + QUIZ GEN + QUALITY GATE                         â”‚            â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚            â”‚
â”‚  â”‚ â”‚ ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ìƒì„±     â”‚ â†’  â”‚ í’ˆì§ˆ ê²€í†  (LLM) â”‚        â”‚            â”‚
â”‚  â”‚ â”‚ (Gemini 1íšŒ í˜¸ì¶œ)       â”‚    â”‚ PASS/FAIL      â”‚        â”‚            â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚            â”‚
â”‚  â”‚                                       â”‚                  â”‚            â”‚
â”‚  â”‚                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚            â”‚
â”‚  â”‚                            â†“                     â†“       â”‚            â”‚
â”‚  â”‚                          PASS                  FAIL      â”‚            â”‚
â”‚  â”‚                            â”‚              (ì¬ìƒì„± or ìŠ¤í‚µ) â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                               â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚ PARALLEL GENERATION (í’ˆì§ˆ í†µê³¼ì‹œì—ë§Œ)      â”‚                            â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                            â”‚
â”‚  â”‚ â”‚ VISUAL GEN     â”‚  â”‚ AUDIO GEN      â”‚   â”‚  â† Imagen 3 + Veo 2       â”‚
â”‚  â”‚ â”‚ (Vertex AI)    â”‚  â”‚ (Google TTS)   â”‚   â”‚  â† ë³‘ë ¬ ì²˜ë¦¬               â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                         â†“                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ COMPOSE      â”‚  â† FFmpeg ì˜ìƒ í•©ì„±                                     â”‚
â”‚  â”‚ (HTTP POST)  â”‚     ë¹„ì£¼ì–¼ + ì˜¤ë””ì˜¤ + ìë§‰                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â†“                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ MULTI-PLATFORM PUBLISH (ë³‘ë ¬)                                 â”‚        â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚        â”‚
â”‚  â”‚ â”‚ Upvy     â”‚ â”‚ YouTube  â”‚ â”‚Instagram â”‚ â”‚ TikTok   â”‚         â”‚        â”‚
â”‚  â”‚ â”‚ API      â”‚ â”‚ Shorts   â”‚ â”‚ Reels    â”‚ â”‚          â”‚         â”‚        â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                 â†“                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚ COMPLETION                                â”‚                            â”‚
â”‚  â”‚ â”œâ”€â”€ DBì— ê²Œì‹œ ê²°ê³¼ ì €ì¥                    â”‚                            â”‚
â”‚  â”‚ â”œâ”€â”€ Slack ì•Œë¦¼ (ì„±ê³µ/ì‹¤íŒ¨)                â”‚                            â”‚
â”‚  â”‚ â””â”€â”€ ë‹¤ìŒ ì»¨í…ì¸  ìƒì„± íŠ¸ë¦¬ê±° (ì˜µì…˜)          â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**n8n ë…¸ë“œ êµ¬ì„±**:
| ë…¸ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| Trigger | Schedule Trigger | ì–¸ì–´ë³„ Cron (ì•„ë˜ ìŠ¤ì¼€ì¤„ ì°¸ì¡°) |

**ì–¸ì–´ë³„ ìŠ¤ì¼€ì¤„ë§**:
| ì–¸ì–´ | ì¼ì¼ | ìŠ¤ì¼€ì¤„ | ë¹„ê³  |
|------|------|--------|------|
| EN (ì˜ì–´) | 5ê°œ | `0 6,9,12,15,18 * * *` | ì˜¤ì „ 6ì‹œë¶€í„° 3ì‹œê°„ ê°„ê²© |
| JA (ì¼ë³¸ì–´) | 3ê°œ | `0 7,13,19 * * *` | ì˜¤ì „ 7ì‹œë¶€í„° 6ì‹œê°„ ê°„ê²© |
| KO (í•œêµ­ì–´) | 3ê°œ | `0 8,14,20 * * *` | ì˜¤ì „ 8ì‹œë¶€í„° 6ì‹œê°„ ê°„ê²© |

> ì‹œê°„ëŒ€: KST (Asia/Seoul) ê¸°ì¤€, ê° ì–¸ì–´ íƒ€ê²Ÿ ì‹œì¥ì˜ í”¼í¬ íƒ€ì„ ê³ ë ¤

| ë…¸ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| Config | HTTP Request | ì„¤ì • ì„œë¹„ìŠ¤ ì¡°íšŒ |
| Topic Select | HTTP Request | Vertex AI Gemini + Grounding |
| **Script + Quiz Gen** | HTTP Request | **Gemini 1íšŒ í˜¸ì¶œë¡œ ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ë™ì‹œ ìƒì„±** |
| Quality Gate | IF | verdict == "PASS" ë¶„ê¸° |
| Visual Gen | HTTP Request | Imagen 3 / Veo 2 í˜¸ì¶œ |
| Audio Gen | HTTP Request | Google Cloud TTS |
| Compose | HTTP Request | FFmpeg í•©ì„± ì„œë¹„ìŠ¤ |
| Upvy Publish | HTTP Request | Backend API í˜¸ì¶œ (ì»¨í…ì¸  + í€´ì¦ˆ) |
| YouTube | HTTP Request | YouTube Data API |
| Instagram | HTTP Request | Meta Graph API |
| TikTok | HTTP Request | TikTok API |
| Slack | Slack | ì™„ë£Œ ì•Œë¦¼ |

### 4.3 ì•„í‚¤í…ì²˜ (ë‹¨ìˆœí™”)

**í•µì‹¬ ì›ì¹™**: n8nì—ì„œ ì§ì ‘ API í˜¸ì¶œ, ë³„ë„ ì„œë¹„ìŠ¤ëŠ” ìµœì†Œí™”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SIMPLIFIED ARCHITECTURE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           n8n                                        â”‚ â”‚
â”‚  â”‚                    (All-in-One Orchestrator)                        â”‚ â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  HTTP Request ë…¸ë“œë¡œ ì§ì ‘ í˜¸ì¶œ:                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚ Vertex AI    â”‚ â”‚ Vertex AI    â”‚ â”‚ Vertex AI    â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ Gemini API   â”‚ â”‚ Imagen API   â”‚ â”‚ Veo API      â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ (LLM+ê²€ìƒ‰)   â”‚ â”‚ (ì´ë¯¸ì§€)     â”‚ â”‚ (ì˜ìƒ)       â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚ Google TTS   â”‚ â”‚ YouTube API  â”‚ â”‚ Meta/TikTok  â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚ API          â”‚ â”‚ (Shorts)     â”‚ â”‚ API          â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚ â”‚
â”‚  â”‚  â”‚ Upvy Backend â”‚                                                   â”‚ â”‚
â”‚  â”‚  â”‚ API          â”‚                                                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                               â”‚
â”‚                           â†“ (ìœ ì¼í•œ ì™¸ë¶€ ì„œë¹„ìŠ¤)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Compose Service (:8084)                          â”‚ â”‚
â”‚  â”‚                    (FFmpeg ì˜ìƒ í•©ì„±)                                 â”‚ â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  - n8nì—ì„œ ë°”ì´ë„ˆë¦¬ ì‹¤í–‰ ë¶ˆê°€ â†’ ë³„ë„ ì„œë¹„ìŠ¤ í•„ìš”                         â”‚ â”‚
â”‚  â”‚  - ë¹„ì£¼ì–¼ í´ë¦½ + ì˜¤ë””ì˜¤ + ìë§‰ í•©ì„±                                     â”‚ â”‚
â”‚  â”‚  - ë¸Œëœë“œ ì›Œí„°ë§ˆí¬, í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´                                     â”‚ â”‚
â”‚  â”‚                                                                      â”‚ â”‚
â”‚  â”‚  Input: clips[], audio.mp3, subtitles.srt                           â”‚ â”‚
â”‚  â”‚  Output: final_video.mp4, thumbnail.jpg                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                           â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚           â”‚           INFRA                      â”‚                        â”‚
â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                        â”‚
â”‚           â”‚  â”‚ MySQL â”‚  â”‚ GCS (or AWS S3)  â”‚    â”‚                        â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                        â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì™œ ë³„ë„ ì„œë¹„ìŠ¤ê°€ í•„ìš” ì—†ëŠ”ê°€?**

| ê¸°ì¡´ ì„¤ê³„ | ë‹¨ìˆœí™” | ì´ìœ  |
|----------|--------|------|
| Script Service | âŒ ì œê±° | n8n HTTP Request â†’ Vertex AI Gemini ì§ì ‘ í˜¸ì¶œ |
| Visual Service | âŒ ì œê±° | n8n HTTP Request â†’ Imagen/Veo API ì§ì ‘ í˜¸ì¶œ |
| Audio Service | âŒ ì œê±° | n8n HTTP Request â†’ Google TTS API ì§ì ‘ í˜¸ì¶œ |
| **Compose Service** | âœ… **ìœ ì§€** | FFmpeg ë°”ì´ë„ˆë¦¬ ì‹¤í–‰ í•„ìš” (n8nì—ì„œ ë¶ˆê°€) |

**Compose Serviceë§Œ í•„ìš”í•œ ì´ìœ **:
- FFmpegëŠ” CLI ë„êµ¬ë¡œ, REST APIê°€ ì•„ë‹˜
- íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ í•„ìš” (í´ë¦½ ë‹¤ìš´ë¡œë“œ, í•©ì„±, ì—…ë¡œë“œ)
- ë³µì¡í•œ ì˜ìƒ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ (concat, overlay, encoding)

**ëŒ€ì•ˆ: n8n Execute Command ë…¸ë“œ**:
- n8n self-hosted í™˜ê²½ì—ì„œ FFmpeg ì„¤ì¹˜ í›„ Execute Command ë…¸ë“œ ì‚¬ìš© ê°€ëŠ¥
- ì´ ê²½ìš° Compose Serviceë„ ì œê±° ê°€ëŠ¥
- ë‹¨, íŒŒì¼ ê´€ë¦¬/ì—ëŸ¬ ì²˜ë¦¬ê°€ ë³µì¡í•´ì§

```yaml
# n8n Execute Command ë…¸ë“œ ì˜ˆì‹œ
command: |
  ffmpeg -i input1.mp4 -i input2.mp4 -i audio.mp3 \
    -filter_complex "[0:v][1:v]concat=n=2:v=1[v];[v]subtitles=subs.srt[out]" \
    -map "[out]" -map 2:a output.mp4
```

### 4.4 API ëª…ì„¸

#### n8nì—ì„œ ì§ì ‘ í˜¸ì¶œ (HTTP Request ë…¸ë“œ)

**1. Vertex AI Gemini (ì£¼ì œ ì„ ì • + ìŠ¤í¬ë¦½íŠ¸ ìƒì„±)**
```yaml
# Gemini + Google Search Grounding
POST https://{LOCATION}-aiplatform.googleapis.com/v1/projects/{PROJECT}/locations/{LOCATION}/publishers/google/models/gemini-2.5-flash:generateContent

Headers:
  Authorization: Bearer {ACCESS_TOKEN}
  Content-Type: application/json

Body:
  contents:
    - parts:
        - text: "í”„ë¡¬í”„íŠ¸..."
  tools:
    - google_search: {}  # Grounding í™œì„±í™”
```

**2. Vertex AI Imagen 3 (ì´ë¯¸ì§€ ìƒì„±)**
```yaml
POST https://{LOCATION}-aiplatform.googleapis.com/v1/projects/{PROJECT}/locations/{LOCATION}/publishers/google/models/imagen-3.0-generate-002:predict

Body:
  instances:
    - prompt: "êµìœ¡ìš© ì¼ëŸ¬ìŠ¤íŠ¸: ë³€ìˆ˜ë¥¼ ë‹´ëŠ” ìƒì..."
  parameters:
    sampleCount: 1
    aspectRatio: "9:16"
```

**3. Vertex AI Veo 2 (ì˜ìƒ ìƒì„±)**
```yaml
POST https://{LOCATION}-aiplatform.googleapis.com/v1/projects/{PROJECT}/locations/{LOCATION}/publishers/google/models/veo-2.0-generate-exp:predict

Body:
  instances:
    - prompt: "ìƒìê°€ ì—´ë¦¬ë©´ì„œ ìˆ«ìê°€ ë‚˜íƒ€ë‚˜ëŠ” ì• ë‹ˆë©”ì´ì…˜"
      image:
        gcsUri: "gs://bucket/start_frame.png"  # Image-to-Video
  parameters:
    videoLength: "5s"
    aspectRatio: "9:16"
```

**4. Google Cloud TTS (ë‚˜ë ˆì´ì…˜)**
```yaml
POST https://texttospeech.googleapis.com/v1/text:synthesize

Body:
  input:
    text: "ë³€ìˆ˜ê°€ ë­”ì§€ ëª¨ë¥´ë©´ ì½”ë”©ì€ ì‹œì‘ë„ ëª»í•©ë‹ˆë‹¤."
  voice:
    languageCode: "ko-KR"
    name: "ko-KR-Wavenet-A"
  audioConfig:
    audioEncoding: "MP3"
    speakingRate: 1.1
```

---

#### Compose Service (`:8084`) - ìœ ì¼í•œ ë³„ë„ ì„œë¹„ìŠ¤

**FFmpeg ì˜ìƒ í•©ì„± ì„œë¹„ìŠ¤**

```yaml
POST /api/v1/compose
  Description: ë¹„ì£¼ì–¼ í´ë¦½ + ì˜¤ë””ì˜¤ + ìë§‰ì„ í•©ì„±í•˜ì—¬ ìµœì¢… ì˜ìƒ ìƒì„±

  Request:
    clips:                           # ë¹„ì£¼ì–¼ í´ë¦½ ëª©ë¡
      - gcsUri: "gs://bucket/clip_0.mp4"
        startTime: 0
        duration: 5
      - gcsUri: "gs://bucket/clip_1.mp4"
        startTime: 5
        duration: 30
    audio:
      gcsUri: "gs://bucket/narration.mp3"
    subtitles:                       # SRT í˜•ì‹ ìë§‰
      - start: 0
        end: 5
        text: "ë³€ìˆ˜ê°€ ë­”ì§€ ëª¨ë¥´ë©´"
    metadata:
      title: "ë³€ìˆ˜ë€? 30ì´ˆ ì™„ë²½ì •ë¦¬"
      watermark: true                # ë¸Œëœë“œ ì›Œí„°ë§ˆí¬
    output:
      gcsUri: "gs://bucket/output/"  # ì¶œë ¥ ê²½ë¡œ

  Response:
    composeId: string
    videoGcsUri: "gs://bucket/output/final.mp4"
    thumbnailGcsUri: "gs://bucket/output/thumbnail.jpg"
    duration: 45
    resolution: "1080x1920"
    fileSize: 12500000
```

**Compose Service êµ¬í˜„ (Kotlin + Spring Boot)**:
```kotlin
@RestController
@RequestMapping("/api/v1")
class ComposeController(
    private val ffmpegService: FFmpegService,
    private val gcsService: GcsService
) {
    @PostMapping("/compose")
    suspend fun compose(@RequestBody request: ComposeRequest): ComposeResponse {
        // 1. GCSì—ì„œ í´ë¦½/ì˜¤ë””ì˜¤ ë‹¤ìš´ë¡œë“œ
        val clips = request.clips.map { gcsService.download(it.gcsUri) }
        val audio = gcsService.download(request.audio.gcsUri)

        // 2. SRT ìë§‰ íŒŒì¼ ìƒì„±
        val srtFile = generateSrt(request.subtitles)

        // 3. FFmpeg í•©ì„±
        val output = ffmpegService.compose(
            clips = clips,
            audio = audio,
            subtitles = srtFile,
            title = request.metadata.title,
            watermark = request.metadata.watermark
        )

        // 4. GCS ì—…ë¡œë“œ
        val videoUri = gcsService.upload(output.video, request.output.gcsUri)
        val thumbnailUri = gcsService.upload(output.thumbnail, request.output.gcsUri)

        return ComposeResponse(
            composeId = UUID.randomUUID().toString(),
            videoGcsUri = videoUri,
            thumbnailGcsUri = thumbnailUri,
            duration = output.duration,
            resolution = "1080x1920",
            fileSize = output.video.length()
        )
    }
}
```

---

## 5. ê¸°ìˆ  ìŠ¤íƒ

### 5.1 ê¸°ìˆ  ìŠ¤íƒ (ë‹¨ìˆœí™”)

| ì»´í¬ë„ŒíŠ¸ | ê¸°ìˆ  | ì´ìœ  |
|----------|------|------|
| **n8n** | Self-hosted (Docker) | ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜, ëª¨ë“  API ì§ì ‘ í˜¸ì¶œ |
| **Compose Service** | Kotlin + Spring Boot | FFmpeg Wrapper, ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ ì¬í™œìš© |
| **AI ì„œë¹„ìŠ¤** | Vertex AI (Gemini, Imagen, Veo) | ë‹¨ì¼ í‚¤ë¡œ í†µí•© ê´€ë¦¬ |
| **TTS** | Google Cloud TTS | Vertex AIì™€ ë™ì¼ ê²°ì œ |
| **ìŠ¤í† ë¦¬ì§€** | GCS (or AWS S3) | Vertex AI ì—°ë™ ìµœì  |
| **DB** | MySQL | ê¸°ì¡´ ì¸í”„ë¼ |

**ì œê±°ëœ ì„œë¹„ìŠ¤**: Script Service, Visual Service, Audio Service
â†’ n8n HTTP Request ë…¸ë“œë¡œ ëŒ€ì²´

### 5.2 ì™¸ë¶€ ì„œë¹„ìŠ¤ - Vertex AI í†µí•© ì „ëµ

**í•µì‹¬ ì›ì¹™**: Vertex AI í‚¤ í•˜ë‚˜ë¡œ LLM + ì´ë¯¸ì§€ + ì˜ìƒ í†µí•© ê´€ë¦¬

| ìš©ë„ | ëª¨ë¸ | Model ID | ë¹„ê³  |
|------|------|----------|------|
| **ì£¼ì œ ì„ ì • (LLM + ì›¹ê²€ìƒ‰)** | Gemini 2.5 Flash | `gemini-2.5-flash` | Google Search Grounding |
| **ìŠ¤í¬ë¦½íŠ¸ ìƒì„± (LLM)** | Gemini 2.5 Flash | `gemini-2.5-flash` | ì €ë¹„ìš©, ë¹ ë¥¸ ì‘ë‹µ |
| **í’ˆì§ˆ í‰ê°€ (LLM)** | Gemini 2.5 Pro | `gemini-2.5-pro` | ë³µì¡í•œ íŒë‹¨ í•„ìš”ì‹œ |
| **ì´ë¯¸ì§€ ìƒì„±** | Imagen 3 | `imagen-3.0-generate-002` | ê³ í’ˆì§ˆ, í…ìŠ¤íŠ¸ ë Œë”ë§ |
| **ì´ë¯¸ì§€ (ì €ì§€ì—°)** | Imagen 3 Fast | `imagen-3.0-fast-generate-001` | ë¯¸ë¦¬ë³´ê¸°/í…ŒìŠ¤íŠ¸ìš© |
| **ì˜ìƒ ìƒì„±** | Veo 2 | `veo-2.0-generate-exp` | 5-8ì´ˆ í´ë¦½ |
| **ì˜ìƒ (ìµœì‹ )** | Veo 3 | `veo-3.0-generate-preview` | ì˜¤ë””ì˜¤ ë™ê¸°í™” |

**Vertex AI ì™¸ ì„œë¹„ìŠ¤**:

| ìš©ë„ | 1ìˆœìœ„ | ëŒ€ì•ˆ | ë¹„ê³  |
|------|-------|------|------|
| **TTS (í•œêµ­ì–´)** | Google Cloud TTS | ElevenLabs | Vertex AIì™€ ë™ì¼ ê²°ì œ |
| **TTS (ì˜ì–´)** | Google Cloud TTS | OpenAI TTS | WaveNet í’ˆì§ˆ ìš°ìˆ˜ |
| **TTS (ê³ í’ˆì§ˆ)** | ElevenLabs | - | ê°ì • í‘œí˜„ í•„ìš”ì‹œ |
| **ìŠ¤í† ë¦¬ì§€** | Google Cloud Storage | AWS S3 | Vertex AI ì—°ë™ ìµœì  |
| **ìŠ¤í† ë¦¬ì§€ (ê¸°ì¡´)** | AWS S3 | - | ê¸°ì¡´ ì¸í”„ë¼ í™œìš© |

**Vertex AI í†µí•© ì¥ì **:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    VERTEX AI í†µí•©                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  âœ… ë‹¨ì¼ API í‚¤ë¡œ ëª¨ë“  AI ì„œë¹„ìŠ¤ ì ‘ê·¼                          â”‚
â”‚  âœ… í†µí•© ê²°ì œ (GCP ì²­êµ¬ì„œ í•˜ë‚˜)                               â”‚
â”‚  âœ… GCSì™€ ìì—°ìŠ¤ëŸ¬ìš´ ì—°ë™ (presigned URL ë¶ˆí•„ìš”)               â”‚
â”‚  âœ… IAM ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬                                       â”‚
â”‚  âœ… í•œêµ­ ë¦¬ì „ ì§€ì› (asia-northeast3)                         â”‚
â”‚  âœ… í•œêµ­ì–´ í”„ë¡¬í”„íŠ¸ ìµœì í™”                                    â”‚
â”‚                                                              â”‚
â”‚  Gemini (LLM) â”€â”¬â”€ Imagen 3 (ì´ë¯¸ì§€) â”€â”¬â”€ Veo 2/3 (ì˜ìƒ)      â”‚
â”‚                â”‚                     â”‚                       â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€ Google TTS         â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í™˜ê²½ ì„¤ì •**:
```yaml
# application.yml
vertex-ai:
  project-id: ${GCP_PROJECT_ID}
  location: asia-northeast3
  credentials: ${GOOGLE_APPLICATION_CREDENTIALS}

  models:
    llm: gemini-2.5-flash
    llm-grounding: gemini-2.5-flash  # with Google Search
    image: imagen-3.0-generate-002
    video: veo-2.0-generate-exp

  storage:
    bucket: upvy-ai-content
    prefix: generated/
```

### 5.3 ì¸í”„ë¼ (ë‹¨ìˆœí™”)

**ë‹¨ 2ê°œ ì»¨í…Œì´ë„ˆë§Œ í•„ìš”**:

```yaml
# docker-compose.yml
version: "3.8"

services:
  # ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° (ëª¨ë“  API ì§ì ‘ í˜¸ì¶œ)
  n8n:
    image: n8nio/n8n:latest
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=${N8N_USER}
      - N8N_BASIC_AUTH_PASSWORD=${N8N_PASSWORD}
      - WEBHOOK_URL=https://n8n.upvy.io
      - GENERIC_TIMEZONE=Asia/Seoul
      # GCP ì¸ì¦ (Vertex AI, TTS, GCS)
      - GOOGLE_APPLICATION_CREDENTIALS=/credentials/gcp-key.json
    volumes:
      - n8n_data:/home/node/.n8n
      - ./credentials:/credentials:ro
    restart: unless-stopped

  # FFmpeg ì˜ìƒ í•©ì„± ì„œë¹„ìŠ¤ (ìœ ì¼í•œ ë°±ì—”ë“œ)
  compose-service:
    build: ./compose-service
    ports:
      - "8084:8084"
    environment:
      - GOOGLE_APPLICATION_CREDENTIALS=/credentials/gcp-key.json
      - GCS_BUCKET=${GCS_BUCKET}
      - FFMPEG_PATH=/usr/bin/ffmpeg
      - TEMP_DIR=/tmp/compose
    volumes:
      - ./credentials:/credentials:ro
      - compose_temp:/tmp/compose
    restart: unless-stopped

volumes:
  n8n_data:
  compose_temp:
```

**í”„ë¡œì íŠ¸ êµ¬ì¡°**:
```
upvy-content-generator/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ credentials/
â”‚   â””â”€â”€ gcp-key.json          # GCP ì„œë¹„ìŠ¤ ê³„ì • í‚¤
â”œâ”€â”€ compose-service/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ build.gradle.kts
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main/kotlin/...   # FFmpeg í•©ì„± ì„œë¹„ìŠ¤
â”œâ”€â”€ n8n-workflows/
â”‚   â””â”€â”€ content-generator.json # n8n ì›Œí¬í”Œë¡œìš° export
â””â”€â”€ PLANNING.md
```

**í™˜ê²½ ë³€ìˆ˜ (.env)**:
```bash
# n8n
N8N_USER=admin
N8N_PASSWORD=secure-password

# GCP
GCP_PROJECT_ID=your-project-id
GCS_BUCKET=upvy-ai-content

# SNS API (n8nì—ì„œ ì‚¬ìš©)
YOUTUBE_API_KEY=...
YOUTUBE_REFRESH_TOKEN=...
INSTAGRAM_ACCESS_TOKEN=...
TIKTOK_ACCESS_TOKEN=...

# Upvy Backend
UPVY_API_URL=https://api.upvy.io
UPVY_AI_CREATOR_TOKEN=...
```

---

## 6. ë°ì´í„° ëª¨ë¸

### 6.1 ì‹ ê·œ í…Œì´ë¸”

```sql
-- ì»¨í…ì¸  ìƒì„± ì‘ì—…
CREATE TABLE content_generation_job (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,

    -- ì‘ì—… ì‹ë³„
    job_id VARCHAR(36) UNIQUE NOT NULL,  -- UUID
    workflow_run_id VARCHAR(100),         -- n8n execution ID

    -- ìƒíƒœ (5ë‹¨ê³„ íŒŒì´í”„ë¼ì¸ ë°˜ì˜)
    status ENUM(
        'TOPIC_SELECTING',       -- Step 1: ì£¼ì œ ì„ ì • ì¤‘
        'SCRIPT_GENERATING',     -- Step 2: ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ìƒì„± ì¤‘
        'VISUAL_GENERATING',     -- Step 3: ë¹„ì£¼ì–¼ ìƒì„± ì¤‘
        'AUDIO_GENERATING',      -- Step 3: ì˜¤ë””ì˜¤ ìƒì„± ì¤‘ (ë³‘ë ¬)
        'COMPOSING',             -- Step 4: ì˜ìƒ í•©ì„± ì¤‘
        'PUBLISHING',            -- Step 5: ë©€í‹°í”Œë«í¼ ê²Œì‹œ ì¤‘
        'PUBLISHED',             -- ì™„ë£Œ: ê²Œì‹œ ì„±ê³µ
        'FAILED'                 -- ì™„ë£Œ: ì‹¤íŒ¨
    ) NOT NULL DEFAULT 'TOPIC_SELECTING',

    -- ë‹¨ê³„ë³„ ê²°ê³¼ ID
    topic_id VARCHAR(36),
    script_id VARCHAR(36),
    visual_id VARCHAR(36),
    audio_id VARCHAR(36),
    compose_id VARCHAR(36),

    -- ì„¤ì •
    category VARCHAR(50) NOT NULL,
    target_language VARCHAR(10) NOT NULL DEFAULT 'ko',
    difficulty VARCHAR(20),
    content_style VARCHAR(50),

    -- ê²°ê³¼
    final_video_s3_key VARCHAR(500),
    thumbnail_s3_key VARCHAR(500),
    quality_score INT,

    -- ë©”íƒ€ë°ì´í„°
    generated_title VARCHAR(200),
    generated_description TEXT,
    generated_tags JSON,

    -- ì—ëŸ¬ ì²˜ë¦¬
    error_message TEXT,
    retry_count INT DEFAULT 0,

    -- ë°œí–‰ ì •ë³´
    published_content_id VARCHAR(36),  -- Backend contents.id
    published_at TIMESTAMP,

    -- ê°ì‚¬
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

-- ì£¼ì œ ì €ì¥
CREATE TABLE generated_topics (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    topic_id VARCHAR(36) UNIQUE NOT NULL,
    job_id VARCHAR(36) NOT NULL,

    title VARCHAR(200) NOT NULL,
    category VARCHAR(50) NOT NULL,
    keywords JSON,
    target_audience VARCHAR(200),
    learning_objective TEXT,

    viral_score INT,
    educational_score INT,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    INDEX idx_category (category),
    INDEX idx_title (title)
);

-- ìŠ¤í¬ë¦½íŠ¸ ì €ì¥
CREATE TABLE generated_scripts (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    script_id VARCHAR(36) UNIQUE NOT NULL,
    topic_id VARCHAR(36) NOT NULL,

    total_duration INT NOT NULL,  -- ì´ˆ
    sections JSON NOT NULL,       -- Section[]
    full_narration TEXT NOT NULL,
    subtitles JSON NOT NULL,      -- Subtitle[]

    -- ë©”íƒ€ë°ì´í„°
    title VARCHAR(200),
    description TEXT,
    tags JSON,
    thumbnail_prompt TEXT,

    -- LLM ì •ë³´
    llm_provider VARCHAR(20),
    llm_model VARCHAR(50),
    prompt_tokens INT,
    completion_tokens INT,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ë¸Œëœë“œ ìŒì„± ì„¤ì •
CREATE TABLE tts_voices (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    voice_id VARCHAR(100) NOT NULL,

    name VARCHAR(100) NOT NULL,
    language VARCHAR(10) NOT NULL,
    gender ENUM('male', 'female', 'neutral'),
    provider VARCHAR(50) NOT NULL,  -- elevenlabs, openai, google, clova

    is_default BOOLEAN DEFAULT FALSE,
    settings JSON,  -- ì†ë„, í”¼ì¹˜ ë“±

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    UNIQUE KEY uk_provider_voice (provider, voice_id)
);

-- ìƒì„± ì„¤ì • (ì–¸ì–´ë³„/ì¹´í…Œê³ ë¦¬ë³„)
CREATE TABLE generation_config (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,

    category VARCHAR(50),          -- NULLì´ë©´ í•´ë‹¹ ì–¸ì–´ ê¸°ë³¸ ì„¤ì •
    language VARCHAR(10) NOT NULL, -- ko, en, ja

    content_style VARCHAR(50),     -- fact_explanation, how_to_guide ë“±
    visual_strategy VARCHAR(50),   -- slideshow, motion, ai_video
    voice_id VARCHAR(100),

    min_duration INT DEFAULT 30,
    max_duration INT DEFAULT 90,

    daily_quota INT NOT NULL,      -- ì¼ì¼ ìƒì„± í•œë„ (ì–¸ì–´ë³„)

    is_active BOOLEAN DEFAULT TRUE,

    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

    UNIQUE KEY uk_category_lang (category, language)
);

-- ê¸°ë³¸ ì–¸ì–´ë³„ ì¼ì¼ í• ë‹¹ëŸ‰ ì„¤ì •
-- ì´ 11ê°œ/ì¼: EN 5ê°œ, JA 3ê°œ, KO 3ê°œ
INSERT INTO generation_config (language, daily_quota) VALUES
    ('en', 5),   -- ì˜ì–´: 5ê°œ/ì¼ (ê¸€ë¡œë²Œ ì‹œì¥ íƒ€ê²Ÿ)
    ('ja', 3),   -- ì¼ë³¸ì–´: 3ê°œ/ì¼
    ('ko', 3);   -- í•œêµ­ì–´: 3ê°œ/ì¼
```

### 6.2 ê¸°ì¡´ í…Œì´ë¸” í™•ì¥

```sql
-- pending_contentsì— source_type ì¶”ê°€
ALTER TABLE pending_contents
ADD COLUMN source_type ENUM('YOUTUBE_CRAWL', 'AI_GENERATED')
DEFAULT 'YOUTUBE_CRAWL' AFTER ai_content_job_id;

-- AI ìƒì„± ì»¨í…ì¸ ìš© job ì°¸ì¡°
ALTER TABLE pending_contents
ADD COLUMN generation_job_id BIGINT AFTER source_type;
```

---

## 7. êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (2ì£¼)

- [ ] í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì • (ëª¨ë…¸ë ˆí¬ ë‚´ ìƒˆ ì„œë¸Œí”„ë¡œì íŠ¸)
- [ ] n8n ì…€í”„í˜¸ìŠ¤íŒ… í™˜ê²½ êµ¬ì„± (Docker)
- [ ] GCP ì¸í”„ë¼ ì„¤ì • (GCS ë²„í‚·, Vertex AI API í™œì„±í™”)
- [ ] n8n Vertex AI HTTP Request ë…¸ë“œ í…ŒìŠ¤íŠ¸
  - Gemini API ì—°ë™ í™•ì¸
  - Google Search Grounding í…ŒìŠ¤íŠ¸

### Phase 2: í•µì‹¬ íŒŒì´í”„ë¼ì¸ (3ì£¼)

- [ ] n8n ì›Œí¬í”Œë¡œìš° êµ¬í˜„
  - Topic Select (Gemini + Grounding)
  - Script + Quiz Gen (Gemini 1íšŒ í˜¸ì¶œ)
  - Quality Gate (IF ë¶„ê¸°)
- [ ] Visual ìƒì„± ë…¸ë“œ êµ¬í˜„
  - Imagen 3 API ì—°ë™
  - Veo 2 API ì—°ë™ (Image-to-Video)
- [ ] Audio ìƒì„± ë…¸ë“œ êµ¬í˜„
  - Google Cloud TTS ì—°ë™
  - íƒ€ì„ìŠ¤íƒ¬í”„ ë™ê¸°í™”
- [ ] Compose Service êµ¬í˜„
  - FFmpeg íŒŒì´í”„ë¼ì¸
  - ìë§‰ ì˜¤ë²„ë ˆì´
  - ë¸Œëœë“œ ì›Œí„°ë§ˆí¬

### Phase 3: ê²Œì‹œ ìë™í™” (2ì£¼)

- [ ] ë©€í‹°í”Œë«í¼ ê²Œì‹œ ë…¸ë“œ êµ¬í˜„
  - Upvy Backend API ì—°ë™ (ì»¨í…ì¸  + í€´ì¦ˆ)
  - YouTube Shorts API ì—°ë™
  - Instagram Reels API ì—°ë™ (Meta Graph API)
  - TikTok API ì—°ë™
- [ ] ì•Œë¦¼ ë° ëª¨ë‹ˆí„°ë§
  - Slack ì™„ë£Œ/ì‹¤íŒ¨ ì•Œë¦¼
  - ìŠ¤ì¼€ì¤„ë§ ì„¤ì • (Cron)
  - ì¼ì¼ ìƒì„± í•œë„

### Phase 4: ìµœì í™” ë° í™•ì¥ (2ì£¼)

- [ ] í’ˆì§ˆ ê°œì„ 
  - LLM í”„ë¡¬í”„íŠ¸ íŠœë‹
  - ë¹„ì£¼ì–¼ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
  - ì¹´í…Œê³ ë¦¬ë³„ ìµœì í™”
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
  - ìƒì„± í†µê³„
  - ë¹„ìš© ì¶”ì 
  - í’ˆì§ˆ íŠ¸ë Œë“œ
- [ ] ë‹¤êµ­ì–´ í™•ì¥
  - ì˜ì–´ ì»¨í…ì¸  ìƒì„±
  - ì¼ë³¸ì–´ ì»¨í…ì¸  ìƒì„±

---

## 8. ë¹„ìš© ì¶”ì •

### 8.1 ì»¨í…ì¸  1ê°œë‹¹ ì˜ˆìƒ ë¹„ìš© (Vertex AI ê¸°ì¤€)

| í•­ëª© | ì„œë¹„ìŠ¤ | ë‹¨ê°€ | ì˜ˆìƒ ì‚¬ìš©ëŸ‰ | ë¹„ìš© |
|------|--------|------|------------|------|
| ì£¼ì œ ì„ ì • (ì›¹ê²€ìƒ‰) | Gemini 2.5 Flash + Grounding | ~$0.10/1K in + $0.035/search | 2K tokens + 3 searches | ~$0.31 |
| **ìŠ¤í¬ë¦½íŠ¸ + í€´ì¦ˆ ìƒì„±** | Gemini 2.5 Flash | ~$0.10/1K in, ~$0.40/1K out | 2.5K in + 2.5K out (í€´ì¦ˆ í¬í•¨) | ~$1.25 |
| ì´ë¯¸ì§€ ìƒì„± | Imagen 3 | $0.02/ì´ë¯¸ì§€ | 5ì¥ | $0.10 |
| ì˜ìƒ ìƒì„± | Veo 2 | $0.025/ì´ˆ | 45ì´ˆ (5-8ì´ˆ Ã— 6í´ë¦½) | ~$1.13 |
| TTS | Google Cloud TTS (WaveNet) | $0.016/1K chars | 500 chars | ~$0.01 |
| ìŠ¤í† ë¦¬ì§€ | GCS | $0.02/GB | 30MB | ~$0.001 |
| **í•©ê³„ (ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œì‡¼)** | | | | **~$1.67** |
| **í•©ê³„ (AI ë¹„ë””ì˜¤)** | | | | **~$2.80** |

> **ì°¸ê³ **: ìŠ¤í¬ë¦½íŠ¸ì™€ í€´ì¦ˆë¥¼ 1íšŒ LLM í˜¸ì¶œë¡œ ìƒì„±í•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì„± í™•ë³´
> (ê¸°ì¡´ ë³„ë„ í˜¸ì¶œ ëŒ€ë¹„ ~$0.20 ì ˆê°)

### 8.2 ì›”ê°„ ì˜ˆìƒ ë¹„ìš© (í•˜ë£¨ 11ê°œ ê¸°ì¤€)

**ì¼ì¼ ìƒì„± í• ë‹¹ëŸ‰**:
| ì–¸ì–´ | ì¼ì¼ | ì›”ê°„ | ë¹„ê³  |
|------|------|------|------|
| ì˜ì–´ (EN) | 5ê°œ | 150ê°œ | ê¸€ë¡œë²Œ ì‹œì¥ íƒ€ê²Ÿ |
| ì¼ë³¸ì–´ (JA) | 3ê°œ | 90ê°œ | |
| í•œêµ­ì–´ (KO) | 3ê°œ | 90ê°œ | |
| **í•©ê³„** | **11ê°œ** | **330ê°œ** | |

```
ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œì‡¼ ì „ëµ:
ì›” ìƒì„±ëŸ‰: 11ê°œ/ì¼ Ã— 30ì¼ = 330ê°œ/ì›”
ì›” ë¹„ìš©: 330 Ã— $1.67 = ~$551/ì›” (~74ë§Œì›)

AI ë¹„ë””ì˜¤ (Veo) ì „ëµ:
ì›” ìƒì„±ëŸ‰: 11ê°œ/ì¼ Ã— 30ì¼ = 330ê°œ/ì›”
ì›” ë¹„ìš©: 330 Ã— $2.80 = ~$924/ì›” (~124ë§Œì›)

í•˜ì´ë¸Œë¦¬ë“œ ì „ëµ (ê¶Œì¥):
- 50% ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œì‡¼: 165 Ã— $1.67 = $276
- 50% AI ë¹„ë””ì˜¤: 165 Ã— $2.80 = $462
ì´ ë¹„ìš©: ~$738/ì›” (~99ë§Œì›)
```

### 8.3 ë¹„ìš© ìµœì í™” ì „ëµ

| ì „ëµ | ì ˆê°ìœ¨ | ë°©ë²• |
|------|--------|------|
| Imagen 3 Fast ì‚¬ìš© | -30% | ë¯¸ë¦¬ë³´ê¸°/í…ŒìŠ¤íŠ¸ì— Fast ëª¨ë¸ |
| í´ë¦½ ìˆ˜ ìµœì í™” | -20% | 6â†’4í´ë¦½, Veo ì‚¬ìš©ëŸ‰ ê°ì†Œ |
| ìºì‹± | -15% | ìœ ì‚¬ ì£¼ì œ ì´ë¯¸ì§€ ì¬í™œìš© |
| GCP ì•½ì • í• ì¸ | -20% | 1ë…„ ì•½ì •ì‹œ í• ì¸ |

---

## 9. ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

| ë¦¬ìŠ¤í¬ | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|--------|----------|
| AI ìƒì„± í’ˆì§ˆ ë¶ˆê· ì¼ | ë†’ìŒ | í’ˆì§ˆ ì„ê³„ê°’ ì¡°ì •, ë‹¤ë‹¨ê³„ ê²€í†  |
| API ë¹„ìš© ì´ˆê³¼ | ì¤‘ê°„ | ì¼ì¼ í•œë„ ì„¤ì •, ì €ë ´í•œ ëŒ€ì•ˆ ìŠ¤ìœ„ì¹­ |
| TTS ë¶€ìì—°ìŠ¤ëŸ¬ì›€ | ë†’ìŒ | ElevenLabs ì»¤ìŠ¤í…€ ìŒì„± íŠ¸ë ˆì´ë‹ |
| ì €ì‘ê¶Œ ì´ìŠˆ (AI ìƒì„±ë¬¼) | ì¤‘ê°„ | AI ìƒì„± í‘œì‹œ, ì´ìš©ì•½ê´€ ëª…ì‹œ |
| n8n ì¥ì•  | ì¤‘ê°„ | ìë™ ì¬ì‹œë„, ìˆ˜ë™ ì‹¤í–‰ ëŒ€ë¹„ |

---

## 10. ë‹¤ìŒ ë‹¨ê³„

1. **ì´ ê¸°íšì„œ ë¦¬ë·° ë° í”¼ë“œë°±**
2. **ê¸°ìˆ  ìŠ¤íƒ ìµœì¢… í™•ì •**
3. **n8n í™˜ê²½ êµ¬ì„±** (Docker Compose)
4. **Script Service MVP êµ¬í˜„**
5. **E2E íŒŒì¼ëŸ¿ í…ŒìŠ¤íŠ¸** (1ê°œ ì¹´í…Œê³ ë¦¬)

---

*ì‘ì„±ì¼: 2026-02-02*
*ë²„ì „: v0.2.0*
*ë³€ê²½: í€´ì¦ˆë¥¼ ìŠ¤í¬ë¦½íŠ¸ ë‹¨ê³„ì—ì„œ ë™ì‹œ ìƒì„± (íŒŒì´í”„ë¼ì¸ 6â†’5ë‹¨ê³„ ë‹¨ìˆœí™”)*
