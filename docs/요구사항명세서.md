# Upvy 요구사항 명세서

> **Version 1.0** | Last Updated: 2025-10-21

---

## 📋 목차

1. [개요](#1-개요)
2. [기능 요구사항](#2-기능-요구사항)
3. [기술 스택](#3-기술-스택)
4. [비기능 요구사항](#4-비기능-요구사항)

---

## 1. 개요

### 1.1 문서 목적

이 문서는 Upvy 플랫폼의 **기능 요구사항**을 정의합니다.
"무엇을" 만들지 명확히 하고, 개발 우선순위를 정합니다.

### 1.2 우선순위 정의

- **P0 (Critical)**: MVP 필수 기능
- **P1 (High)**: 초기 버전에 필요
- **P2 (Medium)**: 사용자 경험 향상
- **P3 (Low)**: 추후 고려

---

## 2. 기능 요구사항

### 2.1 사용자 관리

#### 2.1.1 회원가입 및 인증 [P0]

**기능**:
- 소셜 로그인만으로 진행 (Google, Naver, Kakao)
  - 초기에는 Google만으로 진행
- JWT 기반 인증

**필수 사항**:
- Access Token 유효기간: 1시간
- Refresh Token 유효기간: 14일
- 보안: TLS 1.3, bcrypt 해싱

---

#### 2.1.2 프로필 관리 [P0]

**기능**:
- 프로필 정보 입력/수정
  - 닉네임 (고유)
  - 프로필 이미지
  - 자기소개
- 팔로워/팔로잉 관리
- 크리에이터 전환 신청

---

### 2.2 콘텐츠 소비

#### 2.2.1 스마트 피드 [P0]

**기능**:
- 세로형 풀스크린 숏폼 플레이어
- 스와이프 업/다운으로 전환
- 자동재생, 무한 스크롤
- 자막 자동 표시 (다국어)

**인터랙션**:
- 좋아요, 댓글, 저장, 공유
- 크리에이터 프로필 이동
- 더보기 (신고, 관심없음)

**추천 알고리즘** (초기):
- 사용자 처음 이용시에는 인기 콘텐츠를 랜덤으로 제공
- 이후에는 개인화 추천 적용

개인화 추천 알고리즘
- 관심 카테고리 기반 (40%) - 사용자의 행동 데이터 기반
- 인기 콘텐츠 (30%)
- 신규 콘텐츠 (20%)
- 랜덤 (10%)

**성능 요구사항**:
- 비디오 시작: < 2초
- 다음 비디오 로딩: < 1초
- 프리로딩: 다음 2개 비디오

---

#### 2.2.2 탐색 및 검색 [P1]

**카테고리**:
- 학문 & 교육 (언어, 과학, 역사, 수학, 예술)
- 비즈니스 & 커리어 (스타트업, 마케팅, 프로그래밍, 디자인)
- 자기계발 (생산성, 심리학, 재테크, 건강)
- 라이프스타일 (육아, 요리, 여행, 취미)
- 트렌드 & 인사이트

**검색**:
- 키워드 검색 (제목, 설명, 태그, 크리에이터)
- 자동완성
- 필터링: 난이도, 길이, 날짜, 언어
- 정렬: 관련도, 최신순, 인기순

---

### 2.3 개인화 추천 [P0]

**목적**: 사용자가 좋아할 만한 콘텐츠 자동 추천

**추천 로직**:
- 초기: 관심 카테고리 기반
- 발전: 시청 패턴 학습 (좋아요, 완료, 스킵 등)

**추적 데이터** (백그라운드, 사용자에게 보이지 않음):
- 비디오 재생, 시청 완료, 좋아요, 저장, 스킵, 공유

> 모든 추적은 추천 개선 목적으로만 사용. 사용자에게 진행도/통계 표시 안 함 (부담 주지 않기)

---

### 2.4 소셜 기능

#### 2.4.1 인터랙션 [P0]

**기본 인터랙션**:
- 좋아요/취소
- 댓글 작성/답글 (최대 3depth)
- 타임스탬프 댓글
- 저장 (나중에 보기)
- 공유 (SNS, 링크 복사)

---

#### 2.4.2 팔로우 시스템 [P0]

**기능**:
- 크리에이터 팔로우/언팔로우
- 팔로잉 피드 (팔로우한 크리에이터의 신규 콘텐츠)
- 신규 콘텐츠 알림

---

### 2.5 크리에이터 기능

#### 2.5.1 크리에이터 스튜디오 (웹) [P0]

**콘텐츠 업로드**:
- 비디오 업로드 (MP4, MOV, AVI / 최대 500MB / 최대 1분)
- 기본 편집: 트리밍, 썸네일, 배경음악
- 메타데이터: 제목, 설명, 카테고리, 태그, 난이도, 언어
- AI 자동 자막 생성
- 수익화 설정 (무료/프리미엄)

**콘텐츠 관리**:
- 목록 조회 (상태별 필터)
- 수정/삭제
- 간단 통계 (조회수, 좋아요)

---

#### 2.5.2 크리에이터 애널리틱스 [P1]

**제공 지표**:
- 콘텐츠별: 조회수, 완료율, 시청 시간, 인터랙션
- 시청자 인구통계: 연령, 지역, 시청 시간대
- 학습 경로: 등록 수, 완료율, 이탈 구간
- 수익 리포트: 광고, 프리미엄, 유료 콘텐츠

---

#### 2.5.3 모바일 간편 업로드 [P1]

**기능**:
- 인앱 카메라 촬영
- 갤러리 선택
- 기본 편집 (트리밍, 필터)
- 빠른 메타데이터 입력
- 백그라운드 업로드

---

#### 2.5.4 AI 콘텐츠 생성 시스템 [P0]

**목적**: 초기 콘텐츠 확보

**프로세스**:
1. YouTube CC 라이선스 콘텐츠 크롤링 (YouTube Data API)
2. AI 분석 (Whisper: 음성→텍스트, GPT-4: 핵심 구간 탐지)
3. 자동 편집 (FFmpeg: 1-3분 클립, 자막, 크레딧)
4. 메타데이터 자동 생성 (GPT-4)
5. 품질 검수 (자동 점수 + 수동 승인)
6. 게시

**필수 요소**:
- 출처 표시 (비디오 크레딧, 메타데이터)
- 저작권 관리 (CC 라이선스만, DMCA 대응)
- 관리자 대시보드 (대기 목록, 승인/거부)

**기술**:
- YouTube Data API v3
- OpenAI Whisper API, GPT-4 API
- FFmpeg
- RabbitMQ (작업 큐)

---

### 2.6 알림 시스템 [P1]

**알림 유형**:
- 푸시: 신규 콘텐츠, 댓글, 학습 리마인더, 스트릭 위험, 목표 달성
- 인앱: 실시간 알림 배지
- 이메일: 주간 다이제스트, 수익 리포트

**설정**:
- 알림 타입별 on/off
- 방해금지 모드
- 알림 빈도 조절

---

## 3. 기술 스택

### 3.1 백엔드

- **언어**: Kotlin (JDK 17)
- **프레임워크**: Spring Boot 3.x (WebFlux)
- **데이터베이스**:
  - MySQL (주 데이터베이스)
  - Redis (캐싱, 세션)
  - Elasticsearch (검색)
- **메시징**: Apache Kafka, RabbitMQ
- **스토리지**: AWS S3, CloudFront (CDN)
- **인증**: OAuth 2.0, JWT
- **모니터링**: Prometheus, Grafana, ELK Stack

---

### 3.2 프론트엔드

- **플랫폼**: React Native (웹/앱 크로스 플랫폼)
- **언어**: TypeScript
- **상태 관리**: Redux Toolkit, React Query
- **UI**: React Native Reanimated, NativeWind
- **비디오**: React Native Video

---

### 3.3 인프라

- **클라우드**: AWS (S3, CloudFront, EC2)
- **컨테이너**: Docker
- **CI/CD**: GitHub Actions
- **비디오 처리**: FFmpeg, AWS MediaConvert (선택)

---

### 3.4 AI

- **OpenAI GPT-4**: 콘텐츠 분석, 메타데이터 생성
- **OpenAI Whisper**: 자막 생성
- **FFmpeg**: 비디오 처리

---

## 4. 비기능 요구사항

### 4.1 성능

- API 응답: p95 < 200ms
- 비디오 시작: < 2초
- 피드 로딩: < 1초

---

### 4.2 확장성

- Stateless 설계 (수평 확장 가능)
- MySQL Read Replica
- Redis 캐싱
- CDN 활용

---

### 4.5 국제화

**지원 언어**:
- Phase 1: 한국어
- Phase 2: 영어
- Phase 3: 일본어, 중국어, 스페인어

**현지화**:
- UI/UX 번역
- 콘텐츠 자막
- 날짜/통화 형식

---

### 4.6 모니터링

- 메트릭: Prometheus (CPU, 메모리, API RPS, 응답 시간)
- 로그: ELK Stack (구조화된 JSON 로그)
- 알림: 에러율 > 1%, 응답 시간 > 1초, CPU > 80%

---

## 부록

### A. 우선순위별 요약

**P0 (MVP 필수)**:
- 회원가입/인증, 프로필
- 스마트 피드, 학습 경로
- 학습 대시보드, 개인화 추천
- 기본 인터랙션, 팔로우
- 크리에이터 스튜디오
- AI 콘텐츠 생성

**P1 (초기 버전)**:
- 검색, 학습 목표
- 크리에이터 애널리틱스, 모바일 업로드
- 알림, Premium 구독

**P2 (사용자 경험 향상)**:
- 리더보드
- 스터디 그룹
- 오프라인 다운로드

---

### B. 용어 정의

- **숏폼**: 1-3분 길이의 짧은 비디오
- **학습 경로**: 체계적으로 구성된 콘텐츠 시리즈
- **스트릭**: 연속 학습 일수
- **P0-P3**: 우선순위 (P0 가장 높음)

---

### C. 변경 이력

| 버전 | 날짜 | 변경 사항 |
|------|------|-----------|
| 1.0 | 2025-10-21 | 초안 작성 |

---

**이 문서는 "무엇을" 만들지 정의합니다. "어떻게" 구현할지는 개발 과정에서 결정됩니다.**
